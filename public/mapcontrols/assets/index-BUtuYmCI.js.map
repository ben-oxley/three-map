{"version":3,"mappings":"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","names":["registerSW","options","immediate","onNeedRefresh","onOfflineReady","onRegistered","onRegisteredSW","onRegisterError","wb","registerPromise","updateServiceWorker","_reloadPage","register","__vitePreload","Workbox","e","event","r","LARGE_ARRAY_SIZE","FUNC_ERROR_TEXT","HASH_UNDEFINED","UNORDERED_COMPARE_FLAG","PARTIAL_COMPARE_FLAG","INFINITY","MAX_SAFE_INTEGER","argsTag","arrayTag","boolTag","dateTag","errorTag","funcTag","genTag","mapTag","numberTag","objectTag","promiseTag","regexpTag","setTag","stringTag","symbolTag","weakMapTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","reIsDeepProp","reIsPlainProp","reLeadingDot","rePropName","reRegExpChar","reEscapeChar","reIsHostCtor","reIsUint","typedArrayTags","freeGlobal","global","freeSelf","root","freeExports","exports","freeModule","module","moduleExports","freeProcess","nodeUtil","nodeIsTypedArray","apply","func","thisArg","args","arrayMap","array","iteratee","index","length","result","arrayPush","values","offset","arraySome","predicate","baseProperty","key","object","baseSortBy","comparer","baseTimes","n","baseUnary","value","getValue","isHostObject","mapToArray","map","overArg","transform","arg","setToArray","set","arrayProto","funcProto","objectProto","coreJsData","maskSrcKey","uid","funcToString","hasOwnProperty","objectToString","reIsNative","Symbol","Uint8Array","propertyIsEnumerable","splice","spreadableSymbol","nativeKeys","nativeMax","DataView","getNative","Map","Promise","Set","WeakMap","nativeCreate","dataViewCtorString","toSource","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","symbolProto","symbolValueOf","symbolToString","Hash","entries","entry","hashClear","hashDelete","hashGet","data","hashHas","hashSet","ListCache","listCacheClear","listCacheDelete","assocIndexOf","lastIndex","listCacheGet","listCacheHas","listCacheSet","MapCache","mapCacheClear","mapCacheDelete","getMapData","mapCacheGet","mapCacheHas","mapCacheSet","SetCache","setCacheAdd","setCacheHas","Stack","stackClear","stackDelete","stackGet","stackHas","stackSet","cache","pairs","arrayLikeKeys","inherited","isArray","isArguments","skipIndexes","isIndex","eq","baseEach","createBaseEach","baseForOwn","baseFlatten","depth","isStrict","isFlattenable","baseFor","createBaseFor","keys","baseGet","path","isKey","castPath","toKey","baseGetTag","baseHasIn","baseIsEqual","other","customizer","bitmask","stack","isObject","isObjectLike","baseIsEqualDeep","equalFunc","objIsArr","othIsArr","objTag","othTag","getTag","objIsObj","othIsObj","isSameTag","isTypedArray","equalArrays","equalByTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","equalObjects","baseIsMatch","source","matchData","objValue","srcValue","baseIsNative","isMasked","pattern","isFunction","baseIsTypedArray","isLength","baseIteratee","identity","baseMatchesProperty","baseMatches","property","baseKeys","isPrototype","baseMap","collection","isArrayLike","getMatchData","matchesStrictComparable","isStrictComparable","get","hasIn","baseOrderBy","iteratees","orders","criteria","compareMultiple","basePropertyDeep","baseRest","start","otherArgs","baseToString","isSymbol","stringToPath","compareAscending","valIsDefined","valIsNull","valIsReflexive","valIsSymbol","othIsDefined","othIsNull","othIsReflexive","othIsSymbol","objCriteria","othCriteria","ordersLength","order","eachFunc","fromRight","iterable","keysFunc","props","isPartial","arrLength","othLength","stacked","seen","arrValue","othValue","compared","othIndex","tag","convert","objProps","objLength","othProps","skipCtor","objCtor","othCtor","isKeyable","Ctor","ctorString","hasPath","hasFunc","isIterateeCall","type","proto","memoize","string","toString","match","number","quote","sortBy","resolver","memoized","isArrayLikeObject","defaultValue","layers","backgroundColour","waterColour","basemap","style","item","_","new_item","createElement","query","ns","ref","parse","id","className","element","chunks","i","unmount","parent","child","parentEl","getEl","childEl","doUnmount","hooks","hooksAreEmpty","traverse","trigger","parentHooks","hook","hookNames","shadowRootAvailable","mount","before","replace","wasMounted","oldParent","beforeEl","doMount","el","eventName","view","hookCount","next","remount","hooksFound","list","hookName","triggered","setStyle","arg1","arg2","setStyleValue","xlinkns","setAttrInternal","initial","isObj","isSVG","isFunc","setData","setXlink","text","str","parseArgumentsInternal","isNode","ensureEl","html","len","Query","setChildren","children","current","_current","childEls","i$1","exists","ListPool","View","initData","propKey","context","keySet","oldLookup","newLookup","newViews","oldViews","List","ref$1","views","lookup","oldView","roundPosition","coords","zoom","precision","m","lng","lat","Marker","urlHash","__publicField","location","parts","maplibregl","baseInverter","setter","accumulator","createInverter","toIteratee","invert","constant","lodash_invert","COMPARE_PARTIAL_FLAG","COMPARE_UNORDERED_FLAG","asyncTag","nullTag","proxyTag","undefinedTag","arrayFilter","resIndex","cacheHas","nativeObjectToString","Buffer","symToStringTag","nativeGetSymbols","nativeIsBuffer","size","isArr","isArg","isBuff","isBuffer","isType","baseGetAllKeys","symbolsFunc","getRawTag","baseIsArguments","getAllKeys","getSymbols","isOwn","unmasked","symbol","stubArray","stubFalse","isEqual","LayerSwitcher","default_visible","LayerSwitcherItem","identifiers","layer_name","ident","id_map","layer","name","pref","_a","ids","button","button_position","items","label_for","decodeHash","hash","loc","component","matches","encodeHash","components","URLHash","layerSwitcher","handler","new_hash","parameter_keys","newHash","earthRadius","factors","feature","geom","properties","feat","lineString","coordinates","radiansToLength","radians","units","factor","degreesToRadians","degrees","getCoord","coord","distance","from","to","coordinates1","coordinates2","dLat","dLon","lat1","lat2","a","coordEach","geojson","callback","excludeWrapCoord","j","k","l","geometry","stopG","geometryMaybeCollection","wrapShrink","coordIndex","isGeometryCollection","isFeatureCollection","isFeature","stop","featureIndex","geomIndex","multiFeatureIndex","geometryIndex","geomType","geomEach","g","featureProperties","featureBBox","featureId","flattenEach","bbox","coordinate","segmentEach","segmentIndex","previousCoords","previousFeatureIndex","previousMultiIndex","prevGeomIndex","currentCoord","featureIndexCoord","multiPartIndexCoord","currentSegment","segmentReduce","initialValue","previousValue","started","segment","DistanceMeasure","features","point","ContextMenu","ContextMenuItem","onClick","isEnabled","_index","_items","enabled","VillageSelector","villages","selected","village","option","PlaceVillageDialog","close_button","submit_button","submit_group","selected_village","LocationSelector","form","cancel_link","ev","VillagesLayer","click_layer","obj","old_cursor","response","villages_response","json","editor","closeDialog","endpoint","resp","d","method","InstallControl","install_button","install_close_button","calculateDim","currentZoom","currentWidth","targetZoom","ExportControl","initFunc","srcContainer","width","height","destContainer","wrapper","progressWrapper","renderMap","canvas","loadIcons","ratio","icons","manifest","images","image","img","f","EventMap","layers_enabled","map_style","VillagesEditor","contextMenu","_e","em","savecanvas"],"ignoreList":[1,4,7,8,9,10,11,12,13,14,15],"sources":["../../../../../../../../@vite-plugin-pwa/virtual:pwa-register","../../node_modules/lodash.sortby/index.js","../../src/style/basemap.ts","../../src/style/map_style.ts","../../node_modules/redom/dist/redom.es.js","../../src/util.ts","../../src/marker.ts","../../node_modules/lodash.invert/index.js","../../node_modules/lodash.isequal/index.js","../../node_modules/@russss/maplibregl-layer-switcher/lib/index.js","../../node_modules/@russss/maplibregl-layer-switcher/lib/urlhash.js","../../node_modules/@turf/helpers/dist/es/index.js","../../node_modules/@turf/invariant/dist/es/index.js","../../node_modules/@turf/distance/dist/es/index.js","../../node_modules/@turf/meta/dist/es/index.js","../../node_modules/@turf/length/dist/es/index.js","../../src/distancemeasure.ts","../../src/contextmenu.ts","../../src/villages/components.ts","../../src/villages/index.ts","../../src/installcontrol.ts","../../src/export/export.ts","../../src/index.ts"],"sourcesContent":["// src/client/build/register.ts\nvar autoUpdateMode = \"true\";\nvar selfDestroying = \"false\";\nvar auto = autoUpdateMode === \"true\";\nvar autoDestroy = selfDestroying === \"true\";\nfunction registerSW(options = {}) {\n  const {\n    immediate = false,\n    onNeedRefresh,\n    onOfflineReady,\n    onRegistered,\n    onRegisteredSW,\n    onRegisterError\n  } = options;\n  let wb;\n  let registerPromise;\n  let sendSkipWaitingMessage;\n  const updateServiceWorker = async (_reloadPage = true) => {\n    await registerPromise;\n    if (!auto) {\n      await sendSkipWaitingMessage?.();\n    }\n  };\n  async function register() {\n    if (\"serviceWorker\" in navigator) {\n      wb = await import(\"workbox-window\").then(({ Workbox }) => {\n        return new Workbox(\"/sw.js\", { scope: \"/\", type: \"classic\" });\n      }).catch((e) => {\n        onRegisterError?.(e);\n        return void 0;\n      });\n      if (!wb)\n        return;\n      sendSkipWaitingMessage = async () => {\n        await wb?.messageSkipWaiting();\n      };\n      if (!autoDestroy) {\n        if (auto) {\n          wb.addEventListener(\"activated\", (event) => {\n            if (event.isUpdate || event.isExternal)\n              window.location.reload();\n          });\n          wb.addEventListener(\"installed\", (event) => {\n            if (!event.isUpdate) {\n              onOfflineReady?.();\n            }\n          });\n        } else {\n          let onNeedRefreshCalled = false;\n          const showSkipWaitingPrompt = () => {\n            onNeedRefreshCalled = true;\n            wb?.addEventListener(\"controlling\", (event) => {\n              if (event.isUpdate)\n                window.location.reload();\n            });\n            onNeedRefresh?.();\n          };\n          wb.addEventListener(\"installed\", (event) => {\n            if (typeof event.isUpdate === \"undefined\") {\n              if (typeof event.isExternal !== \"undefined\") {\n                if (event.isExternal)\n                  showSkipWaitingPrompt();\n                else\n                  !onNeedRefreshCalled && onOfflineReady?.();\n              } else {\n                if (event.isExternal)\n                  window.location.reload();\n                else\n                  !onNeedRefreshCalled && onOfflineReady?.();\n              }\n            } else if (!event.isUpdate) {\n              onOfflineReady?.();\n            }\n          });\n          wb.addEventListener(\"waiting\", showSkipWaitingPrompt);\n          wb.addEventListener(\"externalwaiting\", showSkipWaitingPrompt);\n        }\n      }\n      wb.register({ immediate }).then((r) => {\n        if (onRegisteredSW)\n          onRegisteredSW(\"/sw.js\", r);\n        else\n          onRegistered?.(r);\n      }).catch((e) => {\n        onRegisterError?.(e);\n      });\n    }\n  }\n  registerPromise = register();\n  return updateServiceWorker;\n}\nexport {\n  registerSW\n};\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used to compose bitmasks for comparison styles. */\nvar UNORDERED_COMPARE_FLAG = 1,\n    PARTIAL_COMPARE_FLAG = 2;\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/,\n    reLeadingDot = /^\\./,\n    rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    return freeProcess && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\n/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array ? array.length : 0,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array ? array.length : 0;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\n/**\n * The base implementation of `_.sortBy` which uses `comparer` to define the\n * sort order of `array` and replaces criteria objects with their corresponding\n * values.\n *\n * @private\n * @param {Array} array The array to sort.\n * @param {Function} comparer The function to define sort order.\n * @returns {Array} Returns `array`.\n */\nfunction baseSortBy(array, comparer) {\n  var length = array.length;\n\n  array.sort(comparer);\n  while (length--) {\n    array[length] = array[length].value;\n  }\n  return array;\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice,\n    spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object),\n    nativeMax = Math.max;\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView'),\n    Map = getNative(root, 'Map'),\n    Promise = getNative(root, 'Promise'),\n    Set = getNative(root, 'Set'),\n    WeakMap = getNative(root, 'WeakMap'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  return this.has(key) && delete this.__data__[key];\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  return getMapData(this, key)['delete'](key);\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  getMapData(this, key).set(key, value);\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values ? values.length : 0;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\n/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  this.__data__ = new ListCache(entries);\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  return this.__data__['delete'](key);\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var cache = this.__data__;\n  if (cache instanceof ListCache) {\n    var pairs = cache.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      return this;\n    }\n    cache = this.__data__ = new MapCache(pairs);\n  }\n  cache.set(key, value);\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  // Safari 9 makes `arguments.length` enumerable in strict mode.\n  var result = (isArray(value) || isArguments(value))\n    ? baseTimes(value.length, String)\n    : [];\n\n  var length = result.length,\n      skipIndexes = !!length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (key == 'length' || isIndex(key, length)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = isKey(path, object) ? [path] : castPath(path);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\n/**\n * The base implementation of `getTag`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  return objectToString.call(value);\n}\n\n/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {boolean} [bitmask] The bitmask of comparison flags.\n *  The bitmask may be composed of the following flags:\n *     1 - Unordered comparison\n *     2 - Partial comparison\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, customizer, bitmask, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObject(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, baseIsEqual, customizer, bitmask, stack);\n}\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {number} [bitmask] The bitmask of comparison flags. See `baseIsEqual`\n *  for more details.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, equalFunc, customizer, bitmask, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = arrayTag,\n      othTag = arrayTag;\n\n  if (!objIsArr) {\n    objTag = getTag(object);\n    objTag = objTag == argsTag ? objectTag : objTag;\n  }\n  if (!othIsArr) {\n    othTag = getTag(other);\n    othTag = othTag == argsTag ? objectTag : othTag;\n  }\n  var objIsObj = objTag == objectTag && !isHostObject(object),\n      othIsObj = othTag == objectTag && !isHostObject(other),\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, equalFunc, customizer, bitmask, stack)\n      : equalByTag(object, other, objTag, equalFunc, customizer, bitmask, stack);\n  }\n  if (!(bitmask & PARTIAL_COMPARE_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, customizer, bitmask, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, equalFunc, customizer, bitmask, stack);\n}\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? baseIsEqual(srcValue, objValue, customizer, UNORDERED_COMPARE_FLAG | PARTIAL_COMPARE_FLAG, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[objectToString.call(value)];\n}\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (typeof value == 'object') {\n    return isArray(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.map` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction baseMap(collection, iteratee) {\n  var index = -1,\n      result = isArrayLike(collection) ? Array(collection.length) : [];\n\n  baseEach(collection, function(value, key, collection) {\n    result[++index] = iteratee(value, key, collection);\n  });\n  return result;\n}\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (isKey(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, undefined, UNORDERED_COMPARE_FLAG | PARTIAL_COMPARE_FLAG);\n  };\n}\n\n/**\n * The base implementation of `_.orderBy` without param guards.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n * @param {string[]} orders The sort orders of `iteratees`.\n * @returns {Array} Returns the new sorted array.\n */\nfunction baseOrderBy(collection, iteratees, orders) {\n  var index = -1;\n  iteratees = arrayMap(iteratees.length ? iteratees : [identity], baseUnary(baseIteratee));\n\n  var result = baseMap(collection, function(value, key, collection) {\n    var criteria = arrayMap(iteratees, function(iteratee) {\n      return iteratee(value);\n    });\n    return { 'criteria': criteria, 'index': ++index, 'value': value };\n  });\n\n  return baseSortBy(result, function(object, other) {\n    return compareMultiple(object, other, orders);\n  });\n}\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return baseGet(object, path);\n  };\n}\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = array;\n    return apply(func, this, otherArgs);\n  };\n}\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value) {\n  return isArray(value) ? value : stringToPath(value);\n}\n\n/**\n * Compares values to sort them in ascending order.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {number} Returns the sort order indicator for `value`.\n */\nfunction compareAscending(value, other) {\n  if (value !== other) {\n    var valIsDefined = value !== undefined,\n        valIsNull = value === null,\n        valIsReflexive = value === value,\n        valIsSymbol = isSymbol(value);\n\n    var othIsDefined = other !== undefined,\n        othIsNull = other === null,\n        othIsReflexive = other === other,\n        othIsSymbol = isSymbol(other);\n\n    if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||\n        (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||\n        (valIsNull && othIsDefined && othIsReflexive) ||\n        (!valIsDefined && othIsReflexive) ||\n        !valIsReflexive) {\n      return 1;\n    }\n    if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||\n        (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||\n        (othIsNull && valIsDefined && valIsReflexive) ||\n        (!othIsDefined && valIsReflexive) ||\n        !othIsReflexive) {\n      return -1;\n    }\n  }\n  return 0;\n}\n\n/**\n * Used by `_.orderBy` to compare multiple properties of a value to another\n * and stable sort them.\n *\n * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,\n * specify an order of \"desc\" for descending or \"asc\" for ascending sort order\n * of corresponding values.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {boolean[]|string[]} orders The order to sort by for each property.\n * @returns {number} Returns the sort order indicator for `object`.\n */\nfunction compareMultiple(object, other, orders) {\n  var index = -1,\n      objCriteria = object.criteria,\n      othCriteria = other.criteria,\n      length = objCriteria.length,\n      ordersLength = orders.length;\n\n  while (++index < length) {\n    var result = compareAscending(objCriteria[index], othCriteria[index]);\n    if (result) {\n      if (index >= ordersLength) {\n        return result;\n      }\n      var order = orders[index];\n      return result * (order == 'desc' ? -1 : 1);\n    }\n  }\n  // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n  // that causes it, under certain circumstances, to provide the same value for\n  // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n  // for more details.\n  //\n  // This also ensures a stable sort in V8 and other engines.\n  // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n  return object.index - other.index;\n}\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\n/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Function} customizer The function to customize comparisons.\n * @param {number} bitmask The bitmask of comparison flags. See `baseIsEqual`\n *  for more details.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, equalFunc, customizer, bitmask, stack) {\n  var isPartial = bitmask & PARTIAL_COMPARE_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(array);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & UNORDERED_COMPARE_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!seen.has(othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, customizer, bitmask, stack))) {\n              return seen.add(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, customizer, bitmask, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Function} customizer The function to customize comparisons.\n * @param {number} bitmask The bitmask of comparison flags. See `baseIsEqual`\n *  for more details.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, equalFunc, customizer, bitmask, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & PARTIAL_COMPARE_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= UNORDERED_COMPARE_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), equalFunc, customizer, bitmask, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Function} customizer The function to customize comparisons.\n * @param {number} bitmask The bitmask of comparison flags. See `baseIsEqual`\n *  for more details.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, equalFunc, customizer, bitmask, stack) {\n  var isPartial = bitmask & PARTIAL_COMPARE_FLAG,\n      objProps = keys(object),\n      objLength = objProps.length,\n      othProps = keys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(object);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, customizer, bitmask, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, isStrictComparable(value)];\n  }\n  return result;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11,\n// for data views in Edge < 14, and promises in Node.js.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = objectToString.call(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : undefined;\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = isKey(path, object) ? [path] : castPath(path);\n\n  var result,\n      index = -1,\n      length = path.length;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result) {\n    return result;\n  }\n  var length = object ? object.length : 0;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\n/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoize(function(string) {\n  string = toString(string);\n\n  var result = [];\n  if (reLeadingDot.test(string)) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, string) {\n    result.push(quote ? string.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to process.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Creates an array of elements, sorted in ascending order by the results of\n * running each element in a collection thru each iteratee. This method\n * performs a stable sort, that is, it preserves the original sort order of\n * equal elements. The iteratees are invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {...(Function|Function[])} [iteratees=[_.identity]]\n *  The iteratees to sort by.\n * @returns {Array} Returns the new sorted array.\n * @example\n *\n * var users = [\n *   { 'user': 'fred',   'age': 48 },\n *   { 'user': 'barney', 'age': 36 },\n *   { 'user': 'fred',   'age': 40 },\n *   { 'user': 'barney', 'age': 34 }\n * ];\n *\n * _.sortBy(users, function(o) { return o.user; });\n * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n *\n * _.sortBy(users, ['user', 'age']);\n * // => objects for [['barney', 34], ['barney', 36], ['fred', 40], ['fred', 48]]\n *\n * _.sortBy(users, 'user', function(o) {\n *   return Math.floor(o.age / 10);\n * });\n * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n */\nvar sortBy = baseRest(function(collection, iteratees) {\n  if (collection == null) {\n    return [];\n  }\n  var length = iteratees.length;\n  if (length > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {\n    iteratees = [];\n  } else if (length > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {\n    iteratees = [iteratees[0]];\n  }\n  return baseOrderBy(collection, baseFlatten(iteratees, 1), []);\n});\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result);\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Assign cache to `_.memoize`.\nmemoize.Cache = MapCache;\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\n/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\nmodule.exports = sortBy;\n","import { LayerSpecificationWithZIndex } from './types'\r\n\r\nconst layers: LayerSpecificationWithZIndex[] = [\r\n    {\r\n        id: 'water',\r\n        type: 'fill',\r\n        source: 'openmaptiles',\r\n        'source-layer': 'water',\r\n        filter: ['==', '$type', 'Polygon'],\r\n        layout: {\r\n            visibility: 'visible',\r\n        },\r\n        paint: {\r\n            'fill-color': 'rgb(194, 200, 202)',\r\n            'fill-antialias': true,\r\n        },\r\n    },\r\n    {\r\n        id: 'landcover_ice_shelf',\r\n        type: 'fill',\r\n        source: 'openmaptiles',\r\n        'source-layer': 'landcover',\r\n        maxzoom: 8,\r\n        filter: ['all', ['==', '$type', 'Polygon'], ['==', 'subclass', 'ice_shelf']],\r\n        layout: {\r\n            visibility: 'visible',\r\n        },\r\n        paint: {\r\n            'fill-color': 'hsl(0, 0%, 98%)',\r\n            'fill-opacity': 0.7,\r\n        },\r\n    },\r\n    {\r\n        id: 'landuse_residential',\r\n        type: 'fill',\r\n        source: 'openmaptiles',\r\n        'source-layer': 'landuse',\r\n        maxzoom: 16,\r\n        filter: ['all', ['==', '$type', 'Polygon'], ['==', 'class', 'residential']],\r\n        layout: {\r\n            visibility: 'visible',\r\n        },\r\n        paint: {\r\n            'fill-color': 'rgb(234, 234, 230)',\r\n            'fill-opacity': ['interpolate', ['exponential', 0.6], ['zoom'], 8, 0.8, 9, 0.6],\r\n        },\r\n    },\r\n    {\r\n        id: 'waterway',\r\n        type: 'line',\r\n        source: 'openmaptiles',\r\n        'source-layer': 'waterway',\r\n        filter: ['all', ['==', '$type', 'LineString']],\r\n        layout: {\r\n            visibility: 'visible',\r\n        },\r\n        paint: {\r\n            'line-color': 'hsl(195, 17%, 78%)',\r\n        },\r\n    },\r\n    {\r\n        id: 'water_name',\r\n        type: 'symbol',\r\n        source: 'openmaptiles',\r\n        'source-layer': 'water_name',\r\n        filter: ['==', '$type', 'LineString'],\r\n        layout: {\r\n            'text-field': '{name:latin}\\n{name:nonlatin}',\r\n            'symbol-placement': 'line',\r\n            'text-rotation-alignment': 'map',\r\n            'symbol-spacing': 500,\r\n            'text-font': ['Open Sans Regular'],\r\n            'text-size': 12,\r\n        },\r\n        paint: {\r\n            'text-color': 'rgb(157,169,177)',\r\n            'text-halo-color': 'rgb(242,243,240)',\r\n            'text-halo-width': 1,\r\n            'text-halo-blur': 1,\r\n        },\r\n    },\r\n    {\r\n        id: 'building',\r\n        type: 'fill',\r\n        source: 'openmaptiles',\r\n        'source-layer': 'building',\r\n        minzoom: 12,\r\n        paint: {\r\n            'fill-color': 'rgb(234, 234, 229)',\r\n            'fill-outline-color': 'rgb(219, 219, 218)',\r\n            'fill-antialias': true,\r\n        },\r\n    },\r\n    {\r\n        id: 'tunnel_motorway_casing',\r\n        type: 'line',\r\n        source: 'openmaptiles',\r\n        'source-layer': 'transportation',\r\n        minzoom: 6,\r\n        filter: [\r\n            'all',\r\n            ['==', '$type', 'LineString'],\r\n            ['all', ['==', 'brunnel', 'tunnel'], ['==', 'class', 'motorway']],\r\n        ],\r\n        layout: {\r\n            'line-cap': 'butt',\r\n            'line-join': 'miter',\r\n            visibility: 'visible',\r\n        },\r\n        paint: {\r\n            'line-color': 'rgb(213, 213, 213)',\r\n            'line-width': ['interpolate', ['exponential', 1.4], ['zoom'], 5.8, 0, 6, 3, 20, 40],\r\n        },\r\n    },\r\n    {\r\n        id: 'tunnel_motorway_inner',\r\n        type: 'line',\r\n        source: 'openmaptiles',\r\n        'source-layer': 'transportation',\r\n        minzoom: 6,\r\n        filter: [\r\n            'all',\r\n            ['==', '$type', 'LineString'],\r\n            ['all', ['==', 'brunnel', 'tunnel'], ['==', 'class', 'motorway']],\r\n        ],\r\n        layout: {\r\n            'line-cap': 'round',\r\n            'line-join': 'round',\r\n            visibility: 'visible',\r\n        },\r\n        paint: {\r\n            'line-color': 'rgb(234,234,234)',\r\n            'line-width': ['interpolate', ['exponential', 1.4], ['zoom'], 4, 2, 6, 1.3, 20, 30],\r\n        },\r\n    },\r\n    {\r\n        id: 'aeroway-taxiway',\r\n        type: 'line',\r\n        source: 'openmaptiles',\r\n        'source-layer': 'aeroway',\r\n        minzoom: 12,\r\n        filter: ['all', ['in', 'class', 'taxiway']],\r\n        layout: {\r\n            'line-cap': 'round',\r\n            'line-join': 'round',\r\n            visibility: 'visible',\r\n        },\r\n        paint: {\r\n            'line-color': 'hsl(0, 0%, 88%)',\r\n            'line-width': ['interpolate', ['exponential', 1.55], ['zoom'], 13, 1.8, 20, 20],\r\n        },\r\n    },\r\n    {\r\n        id: 'aeroway-runway-casing',\r\n        type: 'line',\r\n        source: 'openmaptiles',\r\n        'source-layer': 'aeroway',\r\n        minzoom: 11,\r\n        filter: ['all', ['in', 'class', 'runway']],\r\n        layout: {\r\n            'line-cap': 'round',\r\n            'line-join': 'round',\r\n            visibility: 'visible',\r\n        },\r\n        paint: {\r\n            'line-color': 'hsl(0, 0%, 88%)',\r\n            'line-width': ['interpolate', ['exponential', 1.5], ['zoom'], 11, 4, 17, 55],\r\n        },\r\n    },\r\n    {\r\n        id: 'aeroway-area',\r\n        type: 'fill',\r\n        source: 'openmaptiles',\r\n        'source-layer': 'aeroway',\r\n        minzoom: 4,\r\n        filter: ['all', ['==', '$type', 'Polygon'], ['in', 'class', 'runway', 'taxiway']],\r\n        layout: {\r\n            visibility: 'visible',\r\n        },\r\n        paint: {\r\n            'fill-opacity': ['interpolate', ['linear'], ['zoom'], 13, 0, 14, 1],\r\n            'fill-color': 'rgba(255, 255, 255, 1)',\r\n        },\r\n    },\r\n    {\r\n        id: 'aeroway-runway',\r\n        type: 'line',\r\n        source: 'openmaptiles',\r\n        'source-layer': 'aeroway',\r\n        minzoom: 11,\r\n        maxzoom: 24,\r\n        filter: ['all', ['in', 'class', 'runway'], ['==', '$type', 'LineString']],\r\n        layout: {\r\n            'line-cap': 'round',\r\n            'line-join': 'round',\r\n            visibility: 'visible',\r\n        },\r\n        paint: {\r\n            'line-color': 'rgba(255, 255, 255, 1)',\r\n            'line-width': ['interpolate', ['exponential', 1.5], ['zoom'], 11, 4, 17, 50],\r\n        },\r\n    },\r\n    {\r\n        id: 'highway_minor',\r\n        type: 'line',\r\n        metadata: {\r\n            'mapbox:group': 'b6371a3f2f5a9932464fa3867530a2e5',\r\n        },\r\n        source: 'openmaptiles',\r\n        'source-layer': 'transportation',\r\n        minzoom: 8,\r\n        filter: ['all', ['==', '$type', 'LineString'], ['in', 'class', 'minor', 'service', 'track']],\r\n        layout: {\r\n            'line-cap': 'round',\r\n            'line-join': 'round',\r\n            visibility: 'visible',\r\n        },\r\n        paint: {\r\n            'line-color': 'hsl(0, 0%, 88%)',\r\n            'line-width': ['interpolate', ['exponential', 1.55], ['zoom'], 13, 1.8, 20, 20],\r\n            'line-opacity': 0.9,\r\n        },\r\n    },\r\n    {\r\n        id: 'highway_major_casing',\r\n        type: 'line',\r\n        source: 'openmaptiles',\r\n        'source-layer': 'transportation',\r\n        minzoom: 11,\r\n        filter: [\r\n            'all',\r\n            ['==', '$type', 'LineString'],\r\n            ['in', 'class', 'primary', 'secondary', 'tertiary', 'trunk'],\r\n        ],\r\n        layout: {\r\n            'line-cap': 'butt',\r\n            'line-join': 'miter',\r\n            visibility: 'visible',\r\n        },\r\n        paint: {\r\n            'line-color': 'rgb(213, 213, 213)',\r\n            'line-dasharray': [12, 0],\r\n            'line-width': ['interpolate', ['exponential', 1.3], ['zoom'], 10, 3, 20, 23],\r\n        },\r\n    },\r\n    {\r\n        id: 'highway_major_inner',\r\n        type: 'line',\r\n        source: 'openmaptiles',\r\n        'source-layer': 'transportation',\r\n        minzoom: 11,\r\n        filter: [\r\n            'all',\r\n            ['==', '$type', 'LineString'],\r\n            ['in', 'class', 'primary', 'secondary', 'tertiary', 'trunk'],\r\n        ],\r\n        layout: {\r\n            'line-cap': 'round',\r\n            'line-join': 'round',\r\n            visibility: 'visible',\r\n        },\r\n        paint: {\r\n            'line-color': '#fff',\r\n            'line-width': ['interpolate', ['exponential', 1.3], ['zoom'], 10, 2, 20, 20],\r\n        },\r\n    },\r\n    {\r\n        id: 'highway_major_subtle',\r\n        type: 'line',\r\n        source: 'openmaptiles',\r\n        'source-layer': 'transportation',\r\n        maxzoom: 11,\r\n        filter: [\r\n            'all',\r\n            ['==', '$type', 'LineString'],\r\n            ['in', 'class', 'primary', 'secondary', 'tertiary', 'trunk'],\r\n        ],\r\n        layout: {\r\n            'line-cap': 'round',\r\n            'line-join': 'round',\r\n            visibility: 'visible',\r\n        },\r\n        paint: {\r\n            'line-color': 'hsla(0, 0%, 85%, 0.69)',\r\n            'line-width': 2,\r\n        },\r\n    },\r\n    {\r\n        id: 'highway_motorway_casing',\r\n        type: 'line',\r\n        source: 'openmaptiles',\r\n        'source-layer': 'transportation',\r\n        minzoom: 6,\r\n        filter: [\r\n            'all',\r\n            ['==', '$type', 'LineString'],\r\n            ['all', ['!in', 'brunnel', 'bridge', 'tunnel'], ['==', 'class', 'motorway']],\r\n        ],\r\n        layout: {\r\n            'line-cap': 'butt',\r\n            'line-join': 'miter',\r\n            visibility: 'visible',\r\n        },\r\n        paint: {\r\n            'line-color': 'rgb(213, 213, 213)',\r\n            'line-width': ['interpolate', ['exponential', 1.4], ['zoom'], 5.8, 0, 6, 3, 20, 40],\r\n            'line-dasharray': [2, 0],\r\n        },\r\n    },\r\n    {\r\n        id: 'highway_motorway_inner',\r\n        type: 'line',\r\n        source: 'openmaptiles',\r\n        'source-layer': 'transportation',\r\n        minzoom: 6,\r\n        filter: [\r\n            'all',\r\n            ['==', '$type', 'LineString'],\r\n            ['all', ['!in', 'brunnel', 'bridge', 'tunnel'], ['==', 'class', 'motorway']],\r\n        ],\r\n        layout: {\r\n            'line-cap': 'round',\r\n            'line-join': 'round',\r\n            visibility: 'visible',\r\n        },\r\n        paint: {\r\n            'line-color': ['interpolate-hcl', ['linear'], ['zoom'], 6, 'hsla(0, 0%, 85%, 0.53)', 8, '#fff'],\r\n            'line-width': ['interpolate', ['exponential', 1.4], ['zoom'], 4, 2, 6, 1.3, 20, 30],\r\n        },\r\n    },\r\n    {\r\n        id: 'highway_motorway_subtle',\r\n        type: 'line',\r\n        source: 'openmaptiles',\r\n        'source-layer': 'transportation',\r\n        maxzoom: 6,\r\n        filter: ['all', ['==', '$type', 'LineString'], ['==', 'class', 'motorway']],\r\n        layout: {\r\n            'line-cap': 'round',\r\n            'line-join': 'round',\r\n            visibility: 'visible',\r\n        },\r\n        paint: {\r\n            'line-color': 'hsla(0, 0%, 85%, 0.53)',\r\n            'line-width': ['interpolate', ['exponential', 1.4], ['zoom'], 4, 2, 6, 1.3],\r\n        },\r\n    },\r\n    {\r\n        id: 'railway_transit',\r\n        type: 'line',\r\n        source: 'openmaptiles',\r\n        'source-layer': 'transportation',\r\n        minzoom: 16,\r\n        filter: [\r\n            'all',\r\n            ['==', '$type', 'LineString'],\r\n            ['all', ['==', 'class', 'transit'], ['!in', 'brunnel', 'tunnel']],\r\n        ],\r\n        layout: {\r\n            visibility: 'visible',\r\n            'line-join': 'round',\r\n        },\r\n        paint: {\r\n            'line-color': '#dddddd',\r\n            'line-width': 3,\r\n        },\r\n    },\r\n    {\r\n        id: 'railway_transit_dashline',\r\n        type: 'line',\r\n        source: 'openmaptiles',\r\n        'source-layer': 'transportation',\r\n        minzoom: 16,\r\n        filter: [\r\n            'all',\r\n            ['==', '$type', 'LineString'],\r\n            ['all', ['==', 'class', 'transit'], ['!in', 'brunnel', 'tunnel']],\r\n        ],\r\n        layout: {\r\n            visibility: 'visible',\r\n            'line-join': 'round',\r\n        },\r\n        paint: {\r\n            'line-color': '#fafafa',\r\n            'line-width': 2,\r\n            'line-dasharray': [3, 3],\r\n        },\r\n    },\r\n    {\r\n        id: 'railway_service',\r\n        type: 'line',\r\n        source: 'openmaptiles',\r\n        'source-layer': 'transportation',\r\n        minzoom: 16,\r\n        filter: ['all', ['==', '$type', 'LineString'], ['all', ['==', 'class', 'rail'], ['has', 'service']]],\r\n        layout: {\r\n            visibility: 'visible',\r\n            'line-join': 'round',\r\n        },\r\n        paint: {\r\n            'line-color': '#dddddd',\r\n            'line-width': 3,\r\n        },\r\n    },\r\n    {\r\n        id: 'railway_service_dashline',\r\n        type: 'line',\r\n        source: 'openmaptiles',\r\n        'source-layer': 'transportation',\r\n        minzoom: 16,\r\n        filter: ['all', ['==', '$type', 'LineString'], ['==', 'class', 'rail'], ['has', 'service']],\r\n        layout: {\r\n            visibility: 'visible',\r\n            'line-join': 'round',\r\n        },\r\n        paint: {\r\n            'line-color': '#fafafa',\r\n            'line-width': 2,\r\n            'line-dasharray': [3, 3],\r\n        },\r\n    },\r\n    {\r\n        id: 'railway',\r\n        type: 'line',\r\n        source: 'openmaptiles',\r\n        'source-layer': 'transportation',\r\n        minzoom: 13,\r\n        filter: ['all', ['==', '$type', 'LineString'], ['all', ['!has', 'service'], ['==', 'class', 'rail']]],\r\n        layout: {\r\n            visibility: 'visible',\r\n            'line-join': 'round',\r\n        },\r\n        paint: {\r\n            'line-color': '#dddddd',\r\n            'line-width': ['interpolate', ['exponential', 1.3], ['zoom'], 9, 2, 20, 7],\r\n        },\r\n    },\r\n    {\r\n        id: 'railway_dashline',\r\n        type: 'line',\r\n        source: 'openmaptiles',\r\n        'source-layer': 'transportation',\r\n        minzoom: 13,\r\n        filter: ['all', ['==', '$type', 'LineString'], ['all', ['!has', 'service'], ['==', 'class', 'rail']]],\r\n        layout: {\r\n            visibility: 'visible',\r\n            'line-join': 'round',\r\n        },\r\n        paint: {\r\n            'line-color': '#fafafa',\r\n            'line-width': ['interpolate', ['exponential', 1.3], ['zoom'], 9, 1, 20, 6],\r\n            'line-dasharray': [3, 3],\r\n        },\r\n    },\r\n    {\r\n        id: 'highway_motorway_bridge_casing',\r\n        type: 'line',\r\n        source: 'openmaptiles',\r\n        'source-layer': 'transportation',\r\n        minzoom: 6,\r\n        filter: [\r\n            'all',\r\n            ['==', '$type', 'LineString'],\r\n            ['all', ['==', 'brunnel', 'bridge'], ['==', 'class', 'motorway']],\r\n        ],\r\n        layout: {\r\n            'line-cap': 'butt',\r\n            'line-join': 'miter',\r\n            visibility: 'visible',\r\n        },\r\n        paint: {\r\n            'line-color': 'rgb(213, 213, 213)',\r\n            'line-width': ['interpolate', ['exponential', 1.4], ['zoom'], 5.8, 0, 6, 5, 20, 45],\r\n            'line-dasharray': [2, 0],\r\n        },\r\n    },\r\n    {\r\n        id: 'highway_motorway_bridge_inner',\r\n        type: 'line',\r\n        source: 'openmaptiles',\r\n        'source-layer': 'transportation',\r\n        minzoom: 6,\r\n        filter: [\r\n            'all',\r\n            ['==', '$type', 'LineString'],\r\n            ['all', ['==', 'brunnel', 'bridge'], ['==', 'class', 'motorway']],\r\n        ],\r\n        layout: {\r\n            'line-cap': 'round',\r\n            'line-join': 'round',\r\n            visibility: 'visible',\r\n        },\r\n        paint: {\r\n            'line-color': ['interpolate-hcl', ['linear'], ['zoom'], 5.8, 'hsla(0, 0%, 85%, 0.53)', 6, '#fff'],\r\n            'line-width': ['interpolate', ['exponential', 1.4], ['zoom'], 4, 2, 6, 1.3, 20, 30],\r\n        },\r\n    },\r\n    {\r\n        id: 'highway_name_motorway',\r\n        type: 'symbol',\r\n        source: 'openmaptiles',\r\n        'source-layer': 'transportation_name',\r\n        filter: ['all', ['==', '$type', 'LineString'], ['==', 'class', 'motorway']],\r\n        layout: {\r\n            'text-size': 10,\r\n            'symbol-spacing': 350,\r\n            'text-font': ['Open Sans Regular'],\r\n            'symbol-placement': 'line',\r\n            visibility: 'visible',\r\n            'text-rotation-alignment': 'viewport',\r\n            'text-pitch-alignment': 'viewport',\r\n            'text-field': '{ref}',\r\n        },\r\n        paint: {\r\n            'text-color': 'rgb(117, 129, 145)',\r\n            'text-halo-color': 'hsl(0, 0%, 100%)',\r\n            'text-translate': [0, 2],\r\n            'text-halo-width': 1,\r\n            'text-halo-blur': 1,\r\n        },\r\n    },\r\n    {\r\n        id: 'boundary_state',\r\n        type: 'line',\r\n        source: 'openmaptiles',\r\n        'source-layer': 'boundary',\r\n        filter: ['==', 'admin_level', 4],\r\n        layout: {\r\n            'line-cap': 'round',\r\n            'line-join': 'round',\r\n            visibility: 'visible',\r\n        },\r\n        paint: {\r\n            'line-color': 'rgb(230, 204, 207)',\r\n            'line-width': ['interpolate', ['linear'], ['zoom'], 3, 1, 22, 15],\r\n            'line-blur': 0.4,\r\n            'line-dasharray': [2, 2],\r\n            'line-opacity': 1,\r\n        },\r\n    },\r\n    {\r\n        id: 'boundary_country',\r\n        type: 'line',\r\n        source: 'openmaptiles',\r\n        'source-layer': 'boundary',\r\n        filter: ['==', 'admin_level', 2],\r\n        layout: {\r\n            'line-cap': 'round',\r\n            'line-join': 'round',\r\n        },\r\n        paint: {\r\n            'line-color': 'rgb(230, 204, 207)',\r\n            'line-width': ['interpolate', ['exponential', 1.1], ['zoom'], 3, 1, 22, 20],\r\n            'line-blur': ['interpolate', ['linear'], ['zoom'], 3, 0.4, 22, 4],\r\n        },\r\n    },\r\n    {\r\n        id: 'place_other',\r\n        type: 'symbol',\r\n        source: 'openmaptiles',\r\n        'source-layer': 'place',\r\n        maxzoom: 14,\r\n        filter: [\r\n            'all',\r\n            ['in', 'class', 'continent', 'hamlet', 'neighbourhood', 'isolated_dwelling'],\r\n            ['==', '$type', 'Point'],\r\n        ],\r\n        layout: {\r\n            'text-size': 10,\r\n            'text-transform': 'uppercase',\r\n            'text-font': ['Open Sans Regular'],\r\n            'text-justify': 'center',\r\n            visibility: 'visible',\r\n            'text-offset': [0.5, 0],\r\n            'text-anchor': 'center',\r\n            'text-field': '{name:latin}\\n{name:nonlatin}',\r\n        },\r\n        paint: {\r\n            'text-color': 'rgb(117, 129, 145)',\r\n            'text-halo-color': 'rgb(242,243,240)',\r\n            'text-halo-width': 1,\r\n            'text-halo-blur': 1,\r\n        },\r\n    },\r\n    {\r\n        id: 'place_suburb',\r\n        type: 'symbol',\r\n        source: 'openmaptiles',\r\n        'source-layer': 'place',\r\n        maxzoom: 15,\r\n        filter: ['all', ['==', '$type', 'Point'], ['==', 'class', 'suburb']],\r\n        layout: {\r\n            'text-size': 10,\r\n            'text-transform': 'uppercase',\r\n            'text-font': ['Open Sans Regular'],\r\n            'text-justify': 'center',\r\n            visibility: 'visible',\r\n            'text-offset': [0.5, 0],\r\n            'text-anchor': 'center',\r\n            'text-field': '{name:latin}\\n{name:nonlatin}',\r\n        },\r\n        paint: {\r\n            'text-color': 'rgb(117, 129, 145)',\r\n            'text-halo-color': 'rgb(242,243,240)',\r\n            'text-halo-width': 1,\r\n            'text-halo-blur': 1,\r\n        },\r\n    },\r\n    {\r\n        id: 'place_village',\r\n        type: 'symbol',\r\n        source: 'openmaptiles',\r\n        'source-layer': 'place',\r\n        maxzoom: 14,\r\n        filter: ['all', ['==', '$type', 'Point'], ['==', 'class', 'village']],\r\n        layout: {\r\n            'text-size': 10,\r\n            'text-transform': 'uppercase',\r\n            'text-font': ['Open Sans Regular'],\r\n            'text-justify': 'left',\r\n            visibility: 'visible',\r\n            'text-offset': [0.5, 0.2],\r\n            'icon-size': 0.4,\r\n            'text-anchor': 'left',\r\n            'text-field': '{name:latin}\\n{name:nonlatin}',\r\n        },\r\n        paint: {\r\n            'text-color': 'rgb(117, 129, 145)',\r\n            'text-halo-color': 'rgb(242,243,240)',\r\n            'text-halo-width': 1,\r\n            'text-halo-blur': 1,\r\n            'icon-opacity': 0.7,\r\n        },\r\n    },\r\n    {\r\n        id: 'place_town',\r\n        type: 'symbol',\r\n        source: 'openmaptiles',\r\n        'source-layer': 'place',\r\n        maxzoom: 15,\r\n        filter: ['all', ['==', '$type', 'Point'], ['==', 'class', 'town']],\r\n        layout: {\r\n            'text-size': 10,\r\n            'icon-image': ['step', ['zoom'], 'circle-11', 8, ''],\r\n            'text-transform': 'uppercase',\r\n            'text-font': ['Open Sans Regular'],\r\n            'text-justify': 'left',\r\n            visibility: 'visible',\r\n            'text-offset': [0.5, 0.2],\r\n            'icon-size': 0.4,\r\n            'text-anchor': ['step', ['zoom'], 'left', 8, 'center'],\r\n            'text-field': '{name:latin}\\n{name:nonlatin}',\r\n        },\r\n        paint: {\r\n            'text-color': 'rgb(117, 129, 145)',\r\n            'text-halo-color': 'rgb(242,243,240)',\r\n            'text-halo-width': 1,\r\n            'text-halo-blur': 1,\r\n            'icon-opacity': 0.7,\r\n        },\r\n    },\r\n    {\r\n        id: 'place_city',\r\n        type: 'symbol',\r\n        source: 'openmaptiles',\r\n        'source-layer': 'place',\r\n        maxzoom: 14,\r\n        filter: [\r\n            'all',\r\n            ['==', '$type', 'Point'],\r\n            ['all', ['!=', 'capital', 2], ['==', 'class', 'city'], ['>', 'rank', 3]],\r\n        ],\r\n        layout: {\r\n            'text-size': 10,\r\n            'icon-image': ['step', ['zoom'], 'circle-11', 8, ''],\r\n            'text-transform': 'uppercase',\r\n            'text-font': ['Open Sans Regular'],\r\n            'text-justify': 'left',\r\n            visibility: 'visible',\r\n            'text-offset': [0.5, 0.2],\r\n            'icon-size': 0.4,\r\n            'text-anchor': ['step', ['zoom'], 'left', 8, 'center'],\r\n            'text-field': '{name:latin}\\n{name:nonlatin}',\r\n        },\r\n        paint: {\r\n            'text-color': 'rgb(117, 129, 145)',\r\n            'text-halo-color': 'rgb(242,243,240)',\r\n            'text-halo-width': 1,\r\n            'text-halo-blur': 1,\r\n            'icon-opacity': 0.7,\r\n        },\r\n    },\r\n    {\r\n        id: 'place_capital',\r\n        type: 'symbol',\r\n        source: 'openmaptiles',\r\n        'source-layer': 'place',\r\n        maxzoom: 12,\r\n        filter: ['all', ['==', '$type', 'Point'], ['all', ['==', 'capital', 2], ['==', 'class', 'city']]],\r\n        layout: {\r\n            'text-size': 14,\r\n            'icon-image': ['step', ['zoom'], 'star-11', 8, ''],\r\n            'text-transform': 'uppercase',\r\n            'text-font': ['Open Sans Regular'],\r\n            'text-justify': 'left',\r\n            visibility: 'visible',\r\n            'text-offset': [0.5, 0.2],\r\n            'icon-size': 1,\r\n            'text-anchor': ['step', ['zoom'], 'left', 8, 'center'],\r\n            'text-field': '{name:latin}\\n{name:nonlatin}',\r\n        },\r\n        paint: {\r\n            'text-color': 'rgb(117, 129, 145)',\r\n            'text-halo-color': 'rgb(242,243,240)',\r\n            'text-halo-width': 1,\r\n            'text-halo-blur': 1,\r\n            'icon-opacity': 0.7,\r\n        },\r\n    },\r\n    {\r\n        id: 'place_city_large',\r\n        type: 'symbol',\r\n        source: 'openmaptiles',\r\n        'source-layer': 'place',\r\n        maxzoom: 12,\r\n        filter: [\r\n            'all',\r\n            ['==', '$type', 'Point'],\r\n            ['all', ['!=', 'capital', 2], ['<=', 'rank', 3], ['==', 'class', 'city']],\r\n        ],\r\n        layout: {\r\n            'text-size': 14,\r\n            'icon-image': ['step', ['zoom'], 'circle-11', 8, ''],\r\n            'text-transform': 'uppercase',\r\n            'text-font': ['Open Sans Regular'],\r\n            'text-justify': 'left',\r\n            visibility: 'visible',\r\n            'text-offset': [0.5, 0.2],\r\n            'icon-size': 0.4,\r\n            'text-field': '{name:latin}\\n{name:nonlatin}',\r\n        },\r\n        paint: {\r\n            'text-color': 'rgb(117, 129, 145)',\r\n            'text-halo-color': 'rgb(242,243,240)',\r\n            'text-halo-width': 1,\r\n            'text-halo-blur': 1,\r\n            'icon-opacity': 0.7,\r\n        },\r\n    },\r\n    {\r\n        id: 'place_state',\r\n        type: 'symbol',\r\n        source: 'openmaptiles',\r\n        'source-layer': 'place',\r\n        maxzoom: 12,\r\n        filter: ['all', ['==', '$type', 'Point'], ['==', 'class', 'state']],\r\n        layout: {\r\n            visibility: 'visible',\r\n            'text-field': '{name:latin}\\n{name:nonlatin}',\r\n            'text-font': ['Open Sans Regular'],\r\n            'text-transform': 'uppercase',\r\n            'text-size': 10,\r\n        },\r\n        paint: {\r\n            'text-color': 'rgb(113, 129, 144)',\r\n            'text-halo-color': 'rgb(242,243,240)',\r\n            'text-halo-width': 1,\r\n            'text-halo-blur': 1,\r\n        },\r\n    },\r\n]\r\n\r\nexport default layers\r\n","import sortBy from 'lodash.sortby'\r\nimport { StyleSpecification } from 'maplibre-gl'\r\nimport basemap from './basemap'\r\nimport { LayerSpecificationWithZIndex } from './types'\r\n\r\nconst backgroundColour = '#DBE8A5'\r\nconst waterColour = '#2EADD9'\r\n\r\nconst layers: LayerSpecificationWithZIndex[] = [\r\n    {\r\n        id: 'background',\r\n        type: 'background',\r\n        paint: {\r\n            'background-color': backgroundColour,\r\n        },\r\n    },\r\n    ...basemap,\r\n    {\r\n        id: 'bounding_box',\r\n        type: 'fill',\r\n        source: 'site_plan',\r\n        'source-layer': 'bounding_box',\r\n        paint: {\r\n            'fill-color': backgroundColour,\r\n        },\r\n    },\r\n    {\r\n        id: 'slope',\r\n        type: 'raster',\r\n        source: 'slope',\r\n        minzoom: 5,\r\n    },\r\n    {\r\n        id: 'hillshade',\r\n        type: 'raster',\r\n        source: 'hillshade',\r\n        minzoom: 5,\r\n    },\r\n    {\r\n        id: 'ortho',\r\n        type: 'raster',\r\n        source: 'ortho',\r\n        minzoom: 15,\r\n    },\r\n    {\r\n        id: 'background_areas_backstage',\r\n        type: 'fill',\r\n        source: 'site_plan',\r\n        'source-layer': 'areas_backstage_polygon',\r\n        paint: {\r\n            'fill-pattern': 'no-access',\r\n        },\r\n    },\r\n    {\r\n        id: 'background_areas_camping_polygon',\r\n        type: 'fill',\r\n        source: 'site_plan',\r\n        'source-layer': 'areas_camping_polygon',\r\n        paint: {\r\n            'fill-color': '#AFC944',\r\n        },\r\n    },\r\n    {\r\n        id: 'background_areas_camping_outline',\r\n        type: 'line',\r\n        source: 'site_plan',\r\n        'source-layer': 'areas_camping_polygon',\r\n        paint: {\r\n            'line-color': 'rgba(10, 100, 10, 0.4)',\r\n            'line-blur': 7,\r\n            'line-width': 3,\r\n        },\r\n    },\r\n    {\r\n        id: 'background_natural_woodland_polygon',\r\n        type: 'fill',\r\n        source: 'site_plan',\r\n        'source-layer': 'natural_woodland_polygon',\r\n        layout: {},\r\n        paint: {\r\n            'fill-color': '#528329',\r\n        },\r\n    },\r\n    {\r\n        id: 'background_natural_hedges_polygon',\r\n        type: 'fill',\r\n        source: 'site_plan',\r\n        'source-layer': 'natural_hedges_polygon',\r\n        layout: {},\r\n        paint: {\r\n            'fill-color': '#528329',\r\n        },\r\n    },\r\n    {\r\n        id: 'background_water_linestring',\r\n        type: 'line',\r\n        source: 'site_plan',\r\n        'source-layer': 'natural_water_linestring',\r\n        layout: {\r\n            'line-cap': 'round',\r\n            'line-join': 'round',\r\n            'line-round-limit': 1.1,\r\n        },\r\n        paint: {\r\n            'line-color': waterColour,\r\n            'line-width': ['interpolate', ['linear'], ['zoom'], 13, 1, 15, 2, 18, 6],\r\n        },\r\n    },\r\n    {\r\n        id: 'background_water_polygon',\r\n        type: 'fill',\r\n        source: 'site_plan',\r\n        'source-layer': 'natural_water_polygon',\r\n        layout: {},\r\n        paint: {\r\n            'fill-pattern': 'water',\r\n        },\r\n    },\r\n    {\r\n        id: 'background_water_polygon_shadow',\r\n        type: 'line',\r\n        source: 'site_plan',\r\n        'source-layer': 'natural_water_polygon',\r\n        layout: {},\r\n        paint: {\r\n            'line-color': '#1D718C',\r\n            'line-width': ['interpolate', ['linear'], ['zoom'], 13, 0, 18, 2],\r\n        },\r\n    },\r\n    {\r\n        id: 'paths_fire',\r\n        type: 'fill',\r\n        source: 'site_plan',\r\n        'source-layer': 'paths_fire_polygon',\r\n        layout: {},\r\n        paint: {\r\n            'fill-color': backgroundColour,\r\n        },\r\n    },\r\n    {\r\n        id: 'paths_tracks_case',\r\n        type: 'line',\r\n        source: 'site_plan',\r\n        'source-layer': 'paths_roads_polygon',\r\n        minzoom: 0,\r\n        layout: {\r\n            'line-cap': 'round',\r\n            'line-join': 'round',\r\n        },\r\n        paint: {\r\n            'line-width': ['interpolate', ['linear'], ['zoom'], 12, 0, 17, 5],\r\n            'line-color': 'rgba(132, 131, 131, 1)',\r\n            'line-blur': 0.5,\r\n        },\r\n    },\r\n    {\r\n        id: 'paths_trackway_case',\r\n        type: 'line',\r\n        source: 'site_plan',\r\n        'source-layer': 'paths_trackway_polygon',\r\n        layout: {},\r\n        paint: {\r\n            'line-width': 3,\r\n            'line-color': 'rgba(140, 140, 140, 1)',\r\n        },\r\n    },\r\n    {\r\n        id: 'paths_trackway',\r\n        type: 'fill',\r\n        source: 'site_plan',\r\n        'source-layer': 'paths_trackway_polygon',\r\n        layout: {},\r\n        paint: {\r\n            'fill-color': 'rgba(185, 185, 185, 1)',\r\n        },\r\n    },\r\n    {\r\n        id: 'paths_tracks',\r\n        type: 'fill',\r\n        source: 'site_plan',\r\n        'source-layer': 'paths_roads_polygon',\r\n        minzoom: 0,\r\n        paint: {\r\n            'fill-color': 'rgba(177, 165, 147, 1)',\r\n            'fill-outline-color': 'rgba(98, 98, 97, 0)',\r\n        },\r\n    },\r\n    {\r\n        id: 'heras',\r\n        type: 'line',\r\n        source: 'site_plan',\r\n        'source-layer': 'heras_internal__linestring',\r\n        paint: {\r\n            'line-color': 'rgba(148, 63, 63, 1)',\r\n        },\r\n    },\r\n    {\r\n        id: 'structures_shadow',\r\n        type: 'line',\r\n        source: 'site_plan',\r\n        'source-layer': 'structures_polygon',\r\n        minzoom: 0,\r\n        layout: {\r\n            'line-cap': 'round',\r\n            'line-join': 'round',\r\n        },\r\n        paint: {\r\n            'line-color': 'rgba(0, 0, 0, 0.3)',\r\n            'line-width': 6,\r\n            'line-blur': 3,\r\n        },\r\n    },\r\n    {\r\n        id: 'structures_polygon',\r\n        type: 'fill',\r\n        source: 'site_plan',\r\n        'source-layer': 'structures_polygon',\r\n        minzoom: 0,\r\n        paint: {\r\n            'fill-color': '#F9E200',\r\n        },\r\n    },\r\n    {\r\n        id: 'structures_outline',\r\n        type: 'line',\r\n        source: 'site_plan',\r\n        'source-layer': 'structures_polygon',\r\n        minzoom: 0,\r\n        layout: {\r\n            'line-cap': 'round',\r\n            'line-join': 'round',\r\n        },\r\n        paint: {\r\n            'line-color': 'rgba(90, 81, 31, 1)',\r\n        },\r\n    },\r\n    {\r\n        id: 'structures_linestring',\r\n        type: 'line',\r\n        source: 'site_plan',\r\n        'source-layer': 'structures_linestring',\r\n        minzoom: 0,\r\n        layout: {\r\n            'line-cap': 'round',\r\n            'line-join': 'round',\r\n        },\r\n        paint: {\r\n            'line-color': 'rgba(90, 81, 31, 1)',\r\n        },\r\n    },\r\n    {\r\n        id: 'structures_guys',\r\n        type: 'line',\r\n        source: 'site_plan',\r\n        'source-layer': 'structures_guys_&_poles_linestring',\r\n        minzoom: 0,\r\n        paint: {\r\n            'line-color': 'rgb(153, 144, 93)',\r\n        },\r\n    },\r\n    {\r\n        id: 'structures_exits',\r\n        type: 'line',\r\n        source: 'site_plan',\r\n        'source-layer': 'structures_exits_linestring',\r\n        minzoom: 0,\r\n        paint: {\r\n            'line-width': 3,\r\n            'line-color': 'rgb(153, 144, 93)',\r\n        },\r\n    },\r\n    {\r\n        id: 'structures_internal_linestring',\r\n        type: 'line',\r\n        source: 'site_plan',\r\n        'source-layer': 'structures_internal_linestring',\r\n        minzoom: 0,\r\n        paint: {\r\n            'line-color': 'rgba(90, 81, 31, 1)',\r\n        },\r\n    },\r\n    {\r\n        id: 'structures_internal_polygon',\r\n        type: 'line',\r\n        source: 'site_plan',\r\n        'source-layer': 'structures_internal_polygon',\r\n        minzoom: 0,\r\n        paint: {\r\n            'line-color': 'rgba(90, 81, 31, 1)',\r\n        },\r\n    },\r\n    {\r\n        id: 'walls',\r\n        type: 'line',\r\n        source: 'site_plan',\r\n        'source-layer': 'walls_linestring',\r\n    },\r\n    {\r\n        id: 'fences',\r\n        type: 'line',\r\n        source: 'site_plan',\r\n        'source-layer': 'fences_linestring',\r\n        paint: {\r\n            'line-color': 'rgba(134, 134, 101, 1)',\r\n        },\r\n    },\r\n    {\r\n        id: 'buildings',\r\n        type: 'fill-extrusion',\r\n        source: 'site_plan',\r\n        'source-layer': 'buildings_polygon',\r\n        layout: {},\r\n        paint: {\r\n            'fill-extrusion-color': 'rgba(189, 170, 85, 1)',\r\n            'fill-extrusion-height': 4,\r\n        },\r\n    },\r\n    {\r\n        id: 'services_comms_ducts_case',\r\n        type: 'line',\r\n        source: 'site_plan',\r\n        'source-layer': 'services_comms_ducts_linestring',\r\n        layout: {},\r\n        paint: {\r\n            'line-color': 'rgba(150, 150, 150, 1)',\r\n            'line-width': 3,\r\n        },\r\n    },\r\n    {\r\n        id: 'services_comms_ducts',\r\n        type: 'line',\r\n        source: 'site_plan',\r\n        'source-layer': 'services_comms_ducts_linestring',\r\n        layout: {},\r\n        paint: {\r\n            'line-color': 'rgba(187, 0, 218, 1)',\r\n            'line-width': 2,\r\n        },\r\n    },\r\n    {\r\n        id: 'services_comms_lines',\r\n        type: 'line',\r\n        source: 'site_plan',\r\n        'source-layer': 'services_comms_buried_lines_linestring',\r\n        layout: {},\r\n        paint: {\r\n            'line-color': 'rgba(187, 0, 218, 1)',\r\n            'line-width': 2,\r\n        },\r\n    },\r\n    {\r\n        id: 'services_comms_manholes',\r\n        type: 'circle',\r\n        source: 'site_plan',\r\n        'source-layer': 'services_comms_manholes_point',\r\n        minzoom: 15,\r\n        paint: {\r\n            'circle-color': 'rgba(187, 0, 218, 1)',\r\n            'circle-stroke-width': 1,\r\n        },\r\n    },\r\n    {\r\n        id: 'services_comms_bt_poles',\r\n        type: 'circle',\r\n        source: 'site_plan',\r\n        'source-layer': 'services_comms_bt_poles_point',\r\n        minzoom: 15,\r\n        paint: {\r\n            'circle-color': 'rgba(136, 89, 6, 1)',\r\n            'circle-stroke-width': 1,\r\n        },\r\n    },\r\n    {\r\n        id: 'services_comms_cabinets',\r\n        type: 'circle',\r\n        source: 'site_plan',\r\n        'source-layer': 'services_comms_cabinets_point',\r\n        minzoom: 15,\r\n        paint: {\r\n            'circle-color': 'rgba(218, 0, 62, 1)',\r\n            'circle-stroke-width': 1,\r\n        },\r\n    },\r\n    {\r\n        id: 'services_comms_manholes_label-copy',\r\n        type: 'symbol',\r\n        source: 'site_plan',\r\n        'source-layer': 'services_comms_manholes_point',\r\n        minzoom: 15,\r\n        layout: {\r\n            'text-field': '{id}',\r\n            'text-font': ['Open Sans Regular'],\r\n            'text-size': 14,\r\n            'text-offset': [-1, 0],\r\n        },\r\n        paint: {\r\n            'text-halo-color': 'rgba(255, 255, 255, 1)',\r\n            'text-halo-width': 2,\r\n        },\r\n    },\r\n    {\r\n        id: 'services_comms_cabinets_label',\r\n        type: 'symbol',\r\n        source: 'site_plan',\r\n        'source-layer': 'services_comms_cabinets_point',\r\n        minzoom: 15,\r\n        layout: {\r\n            'text-field': '{name}',\r\n            'text-font': ['Open Sans Regular'],\r\n            'text-size': 12,\r\n            'text-offset': [-2, 0],\r\n        },\r\n        paint: {\r\n            'text-halo-color': 'rgba(255, 255, 255, 1)',\r\n            'text-halo-width': 2,\r\n        },\r\n    },\r\n    {\r\n        id: 'services_water_lines',\r\n        type: 'line',\r\n        source: 'site_plan',\r\n        'source-layer': 'services_water_lines_linestring',\r\n        layout: {},\r\n        paint: {\r\n            'line-color': '#00C5FF',\r\n            'line-width': 2,\r\n        },\r\n    },\r\n    {\r\n        id: 'services_water_points',\r\n        type: 'circle',\r\n        source: 'site_plan',\r\n        'source-layer': 'services_water_points_point',\r\n        paint: {\r\n            'circle-color': 'rgba(0, 197, 255, 1)',\r\n            'circle-stroke-color': 'rgba(22, 0, 195, 1)',\r\n            'circle-stroke-width': 2,\r\n            'circle-radius': 3,\r\n        },\r\n    },\r\n    {\r\n        id: 'site_water_pipes',\r\n        type: 'line',\r\n        source: 'site_plan',\r\n        'source-layer': 'water_pipes_linestring',\r\n        paint: {\r\n            'line-color': 'rgba(0, 89, 255, 1)',\r\n            'line-width': 2,\r\n        },\r\n    },\r\n    {\r\n        id: 'boundary',\r\n        type: 'line',\r\n        source: 'site_plan',\r\n        'source-layer': 'heras_perimeter__linestring',\r\n        layout: {\r\n            'line-cap': 'round',\r\n            'line-join': 'round',\r\n        },\r\n        paint: {\r\n            'line-color': 'rgba(226, 11, 11, 1)',\r\n            'line-dasharray': [10, 3],\r\n            'line-width': ['interpolate', ['linear'], ['zoom'], 10, 1, 17, 2],\r\n        },\r\n    },\r\n    {\r\n        id: 'dk_radius',\r\n        type: 'fill',\r\n        source: 'site_plan',\r\n        'source-layer': 'noc_dk_radius_polygon',\r\n        paint: {\r\n            'fill-color': 'rgba(169, 105, 163, 1)',\r\n            'fill-opacity': 0.3,\r\n        },\r\n    },\r\n    {\r\n        id: 'dk',\r\n        type: 'line',\r\n        source: 'site_plan',\r\n        'source-layer': 'noc_dk_polygon',\r\n        layout: {},\r\n        paint: {},\r\n    },\r\n    {\r\n        id: 'dk_names',\r\n        type: 'symbol',\r\n        source: 'site_plan',\r\n        'source-layer': 'noc_dk_names_point',\r\n        minzoom: 16,\r\n        maxzoom: 24,\r\n        layout: {\r\n            'symbol-placement': 'point',\r\n            'text-field': '{text}',\r\n            'text-font': ['Open Sans Regular'],\r\n            'text-justify': 'center',\r\n            'text-size': 14,\r\n            'text-padding': 2,\r\n            'symbol-avoid-edges': true,\r\n            'text-max-width': 8,\r\n        },\r\n        paint: {\r\n            'text-halo-color': 'rgba(241, 241, 241, 0.8)',\r\n            'text-halo-width': 3,\r\n            'text-color': 'rgba(169, 105, 163, 1)',\r\n            'text-translate': [-4, 0],\r\n        },\r\n    },\r\n    {\r\n        id: 'noc_fiber',\r\n        type: 'line',\r\n        source: 'site_plan',\r\n        'source-layer': 'noc_fibre_linestring',\r\n        paint: {\r\n            'line-opacity': 1,\r\n            'line-color': 'rgba(147, 84, 150, 1)',\r\n            'line-width': 2,\r\n        },\r\n    },\r\n    {\r\n        id: 'noc_fiber_labels',\r\n        type: 'symbol',\r\n        source: 'site_plan',\r\n        'source-layer': 'noc_fibre_linestring',\r\n        minzoom: 19,\r\n        maxzoom: 24,\r\n        layout: {\r\n            'symbol-placement': 'line',\r\n            'text-field': 'Fiber ({length}m)',\r\n            'text-size': 12,\r\n            'text-optional': false,\r\n            'text-font': ['Open Sans Regular'],\r\n            'text-keep-upright': true,\r\n            'text-allow-overlap': false,\r\n            'text-offset': [0, -1],\r\n        },\r\n        paint: {\r\n            'text-halo-color': 'rgba(241, 241, 241, 0.8)',\r\n            'text-halo-width': 3,\r\n            'text-color': 'rgba(147, 84, 150, 1)',\r\n        },\r\n    },\r\n    {\r\n        id: 'noc_copper',\r\n        type: 'line',\r\n        source: 'site_plan',\r\n        'source-layer': 'noc_copper_linestring',\r\n        minzoom: 0,\r\n        paint: {\r\n            'line-opacity': 1,\r\n            'line-color': 'rgba(174, 127, 176, 1)',\r\n            'line-width': 2,\r\n        },\r\n    },\r\n    {\r\n        id: 'noc_copper_labels',\r\n        type: 'symbol',\r\n        source: 'site_plan',\r\n        'source-layer': 'noc_copper_linestring',\r\n        minzoom: 19,\r\n        maxzoom: 24,\r\n        layout: {\r\n            'symbol-placement': 'line',\r\n            'text-field': 'Cat5e ({length}m)',\r\n            'text-size': 12,\r\n            'text-optional': false,\r\n            'text-font': ['Open Sans Regular'],\r\n            'text-keep-upright': true,\r\n            'text-allow-overlap': false,\r\n            'text-offset': [0, -1],\r\n        },\r\n        paint: {\r\n            'text-halo-color': 'rgba(241, 241, 241, 0.8)',\r\n            'text-halo-width': 3,\r\n            'text-color': 'rgba(174, 127, 176, 1)',\r\n        },\r\n    },\r\n    {\r\n        id: 'noc_switch',\r\n        type: 'circle',\r\n        source: 'site_plan',\r\n        'source-layer': 'noc_switch_point',\r\n        minzoom: 0,\r\n        maxzoom: 24,\r\n        layout: {},\r\n        paint: {\r\n            'circle-color': 'rgba(75, 0, 130, 1)',\r\n            'circle-radius': 3,\r\n        },\r\n    },\r\n    {\r\n        id: 'noc_switch_labels',\r\n        type: 'symbol',\r\n        source: 'site_plan',\r\n        'source-layer': 'noc_switch_point',\r\n        minzoom: 19,\r\n        maxzoom: 24,\r\n        layout: {\r\n            'symbol-placement': 'point',\r\n            'symbol-spacing': 1000,\r\n            'symbol-avoid-edges': true,\r\n            'text-field': '{switch}',\r\n            'text-size': 12,\r\n            'text-optional': false,\r\n            'text-font': ['Open Sans Regular'],\r\n            'text-keep-upright': true,\r\n            'text-allow-overlap': false,\r\n            'text-anchor': 'right',\r\n            'text-offset': [-1, 0],\r\n            'text-justify': 'right',\r\n        },\r\n        paint: {\r\n            'text-halo-color': 'rgba(241, 241, 241, 0.8)',\r\n            'text-halo-width': 3,\r\n            'text-color': 'rgba(75, 0, 130, 1)',\r\n        },\r\n    },\r\n    {\r\n        id: 'power_generator',\r\n        type: 'line',\r\n        source: 'site_plan',\r\n        'source-layer': 'power_generator_polygon',\r\n        layout: {},\r\n        paint: {\r\n            'line-color': 'magenta',\r\n        },\r\n    },\r\n    {\r\n        id: 'power_400_3',\r\n        type: 'line',\r\n        source: 'site_plan',\r\n        'source-layer': 'power_400_3_linestring',\r\n        layout: {},\r\n        paint: {\r\n            'line-color': 'rgba(255, 68, 0, 1)',\r\n            'line-width': 4,\r\n        },\r\n    },\r\n    {\r\n        id: 'power_125_3',\r\n        type: 'line',\r\n        source: 'site_plan',\r\n        'source-layer': 'power_125_3_linestring',\r\n        layout: {},\r\n        paint: {\r\n            'line-color': 'rgba(199, 33, 33, 1)',\r\n            'line-width': 3,\r\n        },\r\n    },\r\n    {\r\n        id: 'power_63_3',\r\n        type: 'line',\r\n        source: 'site_plan',\r\n        'source-layer': 'power_63_3_linestring',\r\n        layout: {},\r\n        paint: {\r\n            'line-color': 'rgba(199, 33, 33, 1)',\r\n            'line-width': 2,\r\n        },\r\n    },\r\n    {\r\n        id: 'power_32_3',\r\n        type: 'line',\r\n        source: 'site_plan',\r\n        'source-layer': 'power_32_3_linestring',\r\n        layout: {},\r\n        paint: {\r\n            'line-color': 'rgba(199, 33, 33, 1)',\r\n            'line-width': 1,\r\n        },\r\n    },\r\n    {\r\n        id: 'power_32_1',\r\n        type: 'line',\r\n        source: 'site_plan',\r\n        'source-layer': 'power_32_linestring',\r\n        layout: {},\r\n        paint: {\r\n            'line-color': 'rgba(11, 11, 214, 1)',\r\n            'line-width': 2,\r\n        },\r\n    },\r\n    {\r\n        id: 'power_16_1',\r\n        type: 'line',\r\n        source: 'site_plan',\r\n        'source-layer': 'power_16_linestring',\r\n        layout: {},\r\n        paint: {\r\n            'line-color': 'rgba(11, 11, 214, 1)',\r\n            'line-width': 1,\r\n        },\r\n    },\r\n    {\r\n        id: 'power_400_3_labels',\r\n        type: 'symbol',\r\n        source: 'site_plan',\r\n        'source-layer': 'power_400_3_linestring',\r\n        minzoom: 19,\r\n        maxzoom: 24,\r\n        layout: {\r\n            'symbol-placement': 'line',\r\n            'text-field': '400A ({length}m)',\r\n            'text-size': 12,\r\n            'text-optional': false,\r\n            'text-font': ['Open Sans Regular'],\r\n            'text-keep-upright': true,\r\n            'text-allow-overlap': false,\r\n            'text-offset': [0, -1],\r\n        },\r\n        paint: {\r\n            'text-halo-color': 'rgba(241, 241, 241, 0.8)',\r\n            'text-halo-width': 3,\r\n            'text-color': 'rgba(199, 33, 33, 1)',\r\n        },\r\n    },\r\n    {\r\n        id: 'power_125_3_labels',\r\n        type: 'symbol',\r\n        source: 'site_plan',\r\n        'source-layer': 'power_125_3_linestring',\r\n        minzoom: 19,\r\n        maxzoom: 24,\r\n        layout: {\r\n            'symbol-placement': 'line',\r\n            'text-field': '125A ({length}m)',\r\n            'text-size': 12,\r\n            'text-optional': false,\r\n            'text-font': ['Open Sans Regular'],\r\n            'text-keep-upright': true,\r\n            'text-allow-overlap': false,\r\n            'text-offset': [0, -1],\r\n        },\r\n        paint: {\r\n            'text-halo-color': 'rgba(241, 241, 241, 0.8)',\r\n            'text-halo-width': 3,\r\n            'text-color': 'rgba(199, 33, 33, 1)',\r\n        },\r\n    },\r\n    {\r\n        id: 'power_63_3_labels',\r\n        type: 'symbol',\r\n        source: 'site_plan',\r\n        'source-layer': 'power_63_3_linestring',\r\n        minzoom: 19,\r\n        maxzoom: 24,\r\n        layout: {\r\n            'symbol-placement': 'line',\r\n            'text-field': '63A ({length}m)',\r\n            'text-size': 12,\r\n            'text-optional': false,\r\n            'text-font': ['Open Sans Regular'],\r\n            'text-keep-upright': true,\r\n            'text-allow-overlap': false,\r\n            'text-offset': [0, -1],\r\n        },\r\n        paint: {\r\n            'text-halo-color': 'rgba(241, 241, 241, 0.8)',\r\n            'text-halo-width': 3,\r\n            'text-color': 'rgba(199, 33, 33, 1)',\r\n        },\r\n    },\r\n    {\r\n        id: 'power_32_3_labels',\r\n        type: 'symbol',\r\n        source: 'site_plan',\r\n        'source-layer': 'power_32_3_linestring',\r\n        minzoom: 19,\r\n        maxzoom: 24,\r\n        layout: {\r\n            'symbol-placement': 'line',\r\n            'text-field': '32A ({length}m)',\r\n            'text-size': 12,\r\n            'text-optional': false,\r\n            'text-font': ['Open Sans Regular'],\r\n            'text-keep-upright': true,\r\n            'text-allow-overlap': false,\r\n            'text-offset': [0, -1],\r\n        },\r\n        paint: {\r\n            'text-halo-color': 'rgba(241, 241, 241, 0.8)',\r\n            'text-halo-width': 3,\r\n            'text-color': 'rgba(199, 33, 33, 1)',\r\n        },\r\n    },\r\n    {\r\n        id: 'power_32_1_labels',\r\n        type: 'symbol',\r\n        source: 'site_plan',\r\n        'source-layer': 'power_32_linestring',\r\n        minzoom: 19,\r\n        maxzoom: 24,\r\n        layout: {\r\n            'symbol-placement': 'line',\r\n            'text-field': '32A ({length}m)',\r\n            'text-size': 12,\r\n            'text-optional': false,\r\n            'text-font': ['Open Sans Regular'],\r\n            'text-keep-upright': true,\r\n            'text-allow-overlap': false,\r\n            'text-offset': [0, -1],\r\n        },\r\n        paint: {\r\n            'text-halo-color': 'rgba(241, 241, 241, 0.8)',\r\n            'text-halo-width': 3,\r\n            'text-color': 'rgba(11, 11, 214, 1)',\r\n        },\r\n    },\r\n    {\r\n        id: 'power_16_1_labels',\r\n        type: 'symbol',\r\n        source: 'site_plan',\r\n        'source-layer': 'power_16_linestring',\r\n        minzoom: 19,\r\n        maxzoom: 24,\r\n        layout: {\r\n            'symbol-placement': 'line',\r\n            'symbol-spacing': 1000,\r\n            'text-field': '16A ({length}m)',\r\n            'text-size': 12,\r\n            'text-optional': false,\r\n            'text-font': ['Open Sans Regular'],\r\n            'text-keep-upright': true,\r\n            'text-allow-overlap': false,\r\n            'text-offset': [0, -1],\r\n        },\r\n        paint: {\r\n            'text-halo-color': 'rgba(241, 241, 241, 0.8)',\r\n            'text-halo-width': 3,\r\n            'text-color': 'rgba(11, 11, 214, 1)',\r\n        },\r\n    },\r\n    {\r\n        id: 'power_distro',\r\n        type: 'circle',\r\n        source: 'site_plan',\r\n        'source-layer': 'power_distro_point',\r\n        layout: {},\r\n        paint: {\r\n            'circle-color': [\r\n                'match',\r\n                ['get', 'distro'],\r\n                'TOB/32',\r\n                'blue',\r\n                'TOB/16',\r\n                'blue',\r\n                'CABIN',\r\n                'blue',\r\n                'ColdRoom',\r\n                'blue',\r\n                'SOB',\r\n                'blue',\r\n                'SSB 1',\r\n                'blue',\r\n                'SSB 2',\r\n                'blue',\r\n                'MD1 32 1',\r\n                'blue',\r\n                'rgba(199, 33, 33, 1)',\r\n            ],\r\n            'circle-radius': 3,\r\n        },\r\n    },\r\n    {\r\n        id: 'power_distro_labels',\r\n        type: 'symbol',\r\n        source: 'site_plan',\r\n        'source-layer': 'power_distro_point',\r\n        minzoom: 19,\r\n        maxzoom: 24,\r\n        layout: {\r\n            'symbol-placement': 'point',\r\n            'symbol-spacing': 1000,\r\n            'symbol-avoid-edges': true,\r\n            'text-field': '{name}\\n({distro})',\r\n            'text-size': 12,\r\n            'text-optional': false,\r\n            'text-font': ['Open Sans Regular'],\r\n            'text-keep-upright': true,\r\n            'text-allow-overlap': false,\r\n            'text-anchor': 'left',\r\n            'text-offset': [1, 0],\r\n        },\r\n        paint: {\r\n            'text-halo-color': 'rgba(241, 241, 241, 0.8)',\r\n            'text-halo-width': 3,\r\n            'text-color': [\r\n                'match',\r\n                ['get', 'distro'],\r\n                'TOB/32',\r\n                'blue',\r\n                'TOB/16',\r\n                'blue',\r\n                'CABIN',\r\n                'blue',\r\n                'ColdRoom',\r\n                'blue',\r\n                'SOB',\r\n                'blue',\r\n                'SSB 1',\r\n                'blue',\r\n                'SSB 2',\r\n                'blue',\r\n                'MD1 32 1',\r\n                'blue',\r\n                'rgba(199, 33, 33, 1)',\r\n            ],\r\n        },\r\n    },\r\n    {\r\n        id: 'lighting_festoon',\r\n        type: 'line',\r\n        source: 'site_plan',\r\n        'source-layer': 'lighting_festoon_linestring',\r\n        layout: {},\r\n        paint: {\r\n            'line-color': 'rgba(200, 184, 42, 1)',\r\n            'line-width': 2,\r\n        },\r\n    },\r\n    {\r\n        id: 'lighting_festoon_labels',\r\n        type: 'symbol',\r\n        source: 'site_plan',\r\n        'source-layer': 'lighting_festoon_linestring',\r\n        minzoom: 19,\r\n        maxzoom: 24,\r\n        layout: {\r\n            'symbol-placement': 'line',\r\n            'text-field': 'Festoon ({length}m)',\r\n            'text-size': 12,\r\n            'text-optional': false,\r\n            'text-font': ['Open Sans Regular'],\r\n            'text-keep-upright': true,\r\n            'text-allow-overlap': false,\r\n            'text-offset': [0, -1],\r\n        },\r\n        paint: {\r\n            'text-halo-color': 'rgba(241, 241, 241, 0.8)',\r\n            'text-halo-width': 3,\r\n            'text-color': 'rgba(200, 184, 42, 1)',\r\n        },\r\n    },\r\n    {\r\n        id: 'villages_symbol',\r\n        type: 'circle',\r\n        source: 'villages',\r\n        'source-layer': '',\r\n        minzoom: 16,\r\n        paint: {\r\n            'circle-color': 'rgb(246, 163, 24)',\r\n            'circle-radius': ['interpolate', ['linear'], ['zoom'], 16, 6, 24, 26],\r\n            'circle-blur': 0.5,\r\n            'circle-stroke-width': 0.5,\r\n        },\r\n    },\r\n    {\r\n        id: 'background_trees',\r\n        type: 'symbol',\r\n        source: 'site_plan',\r\n        'source-layer': 'natural_trees_point',\r\n        minzoom: 13,\r\n        layout: {\r\n            'icon-image': 'tree',\r\n            'icon-size': [\r\n                'interpolate',\r\n                ['exponential', 1.5],\r\n                ['zoom'],\r\n                14,\r\n                0.01,\r\n                22,\r\n                ['*', ['to-number', ['coalesce', ['get', 'size'], 0.6]], 2.5],\r\n            ],\r\n            'icon-allow-overlap': true,\r\n            'icon-rotate': ['%', ['*', ['get', 'gid'], 200], 360],\r\n        },\r\n        paint: {},\r\n    },\r\n    {\r\n        id: 'villages_text',\r\n        type: 'symbol',\r\n        source: 'villages',\r\n        'source-layer': '',\r\n        minzoom: 17,\r\n        maxzoom: 24,\r\n        layout: {\r\n            'text-field': '{name}',\r\n            'text-font': ['Open Sans Regular'],\r\n            'text-offset': [0, -1.8],\r\n            'text-size': ['interpolate', ['linear'], ['zoom'], 17, 11, 24, 16],\r\n        },\r\n        paint: {\r\n            'text-halo-color': 'rgba(244, 235, 247, 0.73)',\r\n            'text-halo-width': 2,\r\n            'text-halo-blur': 1,\r\n        },\r\n    },\r\n    {\r\n        id: 'labels_camping',\r\n        type: 'symbol',\r\n        source: 'site_plan',\r\n        'source-layer': 'camping_centroid',\r\n        minzoom: 16,\r\n        maxzoom: 24,\r\n        layout: {\r\n            'text-field': 'Camping: {camping}',\r\n            'text-font': ['Open Sans Regular'],\r\n            'text-justify': 'center',\r\n            'text-size': ['interpolate', ['linear'], ['zoom'], 16, 10, 24, 24],\r\n            'text-padding': 2,\r\n            'symbol-placement': 'point',\r\n            'symbol-spacing': 1000,\r\n            'symbol-avoid-edges': true,\r\n            'text-max-width': 8,\r\n        },\r\n        paint: {\r\n            'text-halo-width': 3,\r\n            'text-halo-blur': 4,\r\n            'text-halo-color': 'rgba(241, 241, 241, 1)',\r\n        },\r\n    },\r\n    {\r\n        id: 'labels_gate',\r\n        type: 'symbol',\r\n        source: 'site_plan',\r\n        'source-layer': 'labels_gate_labels_point',\r\n        minzoom: 16,\r\n        maxzoom: 24,\r\n        layout: {\r\n            'text-field': '{text}',\r\n            'text-size': 12,\r\n            'text-optional': false,\r\n            'text-font': ['Open Sans Regular'],\r\n            'text-keep-upright': true,\r\n            'text-ignore-placement': false,\r\n            'text-allow-overlap': false,\r\n        },\r\n        paint: {\r\n            'text-halo-color': 'rgba(241, 241, 241, 1)',\r\n            'text-halo-width': 3,\r\n            'text-halo-blur': 4,\r\n            'text-color': 'rgba(0, 0, 0, 1)',\r\n        },\r\n    },\r\n    {\r\n        id: 'labels_streets',\r\n        type: 'symbol',\r\n        source: 'site_plan',\r\n        'source-layer': 'streets_linestring',\r\n        minzoom: 16,\r\n        layout: {\r\n            'text-field': '{name}',\r\n            'text-font': ['Raleway SemiBold'],\r\n            'text-size': ['interpolate', ['linear'], ['zoom'], 16, 8, 17, 9, 23, 50],\r\n            'text-max-angle': 10,\r\n            'symbol-placement': 'line',\r\n            'symbol-spacing': 500,\r\n        },\r\n        paint: {\r\n            'text-halo-color': 'rgba(120, 120, 120, 1)',\r\n            'text-halo-width': 15,\r\n            'text-halo-blur': 40,\r\n            'text-color': 'rgba(250, 250, 250, 1)',\r\n        },\r\n    },\r\n    {\r\n        id: 'labels_main_3',\r\n        type: 'symbol',\r\n        filter: ['!', ['has', 'priority']],\r\n        source: 'site_plan',\r\n        'source-layer': 'labels_point',\r\n        minzoom: 17.5,\r\n        layout: {\r\n            'text-field': '{text}',\r\n            'text-font': ['Raleway SemiBold'],\r\n            'text-size': 13,\r\n            'text-optional': false,\r\n        },\r\n        paint: {\r\n            'text-halo-color': 'rgba(241, 241, 241, 1)',\r\n            'text-halo-width': 3,\r\n            'text-halo-blur': 1,\r\n            'text-color': 'rgba(0, 0, 0, 1)',\r\n        },\r\n    },\r\n    {\r\n        id: 'labels_main_2',\r\n        type: 'symbol',\r\n        filter: ['==', ['get', 'priority'], '2'],\r\n        source: 'site_plan',\r\n        'source-layer': 'labels_point',\r\n        minzoom: 16,\r\n        layout: {\r\n            'text-field': '{text}',\r\n            'text-font': ['Raleway SemiBold'],\r\n            'text-size': ['interpolate', ['linear'], ['zoom'], 16, 6, 23, 30],\r\n            'text-optional': false,\r\n        },\r\n        paint: {\r\n            'text-halo-color': 'rgba(241, 241, 241, 1)',\r\n            'text-halo-width': 3,\r\n            'text-halo-blur': 1,\r\n            'text-color': 'rgba(0, 0, 0, 1)',\r\n        },\r\n    },\r\n    {\r\n        id: 'labels_main_1',\r\n        type: 'symbol',\r\n        filter: ['==', ['get', 'priority'], '1'],\r\n        source: 'site_plan',\r\n        'source-layer': 'labels_point',\r\n        minzoom: 15,\r\n        layout: {\r\n            'text-field': '{text}',\r\n            'text-font': ['Raleway SemiBold'],\r\n            'text-size': ['interpolate', ['linear'], ['zoom'], 15, 10, 23, 40],\r\n            'text-optional': false,\r\n        },\r\n        paint: {\r\n            'text-halo-color': 'rgba(241, 241, 241, 1)',\r\n            'text-halo-width': 3,\r\n            'text-halo-blur': 1,\r\n            'text-color': 'rgba(0, 0, 0, 1)',\r\n        },\r\n    },\r\n]\r\n\r\nconst style: StyleSpecification = {\r\n    version: 8,\r\n    name: 'EMF',\r\n    center: [-2.376986, 52.041328],\r\n    zoom: 17.19,\r\n    bearing: 25,\r\n    pitch: 0,\r\n    sources: {\r\n        openmaptiles: {\r\n            type: 'vector',\r\n            url: 'https://api.maptiler.com/tiles/v3/tiles.json?key=iiaOS0kq1MPr2LlHPTSa',\r\n        },\r\n        site_plan: {\r\n            type: 'vector',\r\n            url: 'https://map.emfcamp.org/capabilities/buildmap',\r\n        },\r\n        villages: {\r\n            type: 'geojson',\r\n            data: 'https://www.emfcamp.org/api/villages.geojson',\r\n        },\r\n        slope: {\r\n            type: 'raster',\r\n            tiles: ['https://map.emfcamp.org/data/slope/{z}/{x}/{y}'],\r\n            attribution: 'Elevation data © Environment Agency 2022. All rights reserved.',\r\n        },\r\n        hillshade: {\r\n            type: 'raster',\r\n            tiles: ['https://map.emfcamp.org/data/hillshade/{z}/{x}/{y}'],\r\n            attribution: 'Elevation data © Environment Agency 2022. All rights reserved.',\r\n        },\r\n        ortho: {\r\n            type: 'raster',\r\n            tiles: ['https://map.emfcamp.org/data/ortho/{z}/{x}/{y}'],\r\n        },\r\n    },\r\n    sprite: 'https://openmaptiles.github.io/positron-gl-style/sprite',\r\n    glyphs: 'https://map.emfcamp.org/fonts/{fontstack}/{range}.pbf',\r\n    layers: sortBy(layers, [(item) => item.zindex || 0]).map((item) => {\r\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n        const { zindex: _, ...new_item } = item\r\n        return new_item\r\n    }),\r\n}\r\n\r\nexport default style\r\n","function createElement (query, ns) {\n  var ref = parse(query);\n  var tag = ref.tag;\n  var id = ref.id;\n  var className = ref.className;\n  var element = ns ? document.createElementNS(ns, tag) : document.createElement(tag);\n\n  if (id) {\n    element.id = id;\n  }\n\n  if (className) {\n    if (ns) {\n      element.setAttribute('class', className);\n    } else {\n      element.className = className;\n    }\n  }\n\n  return element;\n}\n\nfunction parse (query) {\n  var chunks = query.split(/([.#])/);\n  var className = '';\n  var id = '';\n\n  for (var i = 1; i < chunks.length; i += 2) {\n    switch (chunks[i]) {\n      case '.':\n        className += \" \" + (chunks[i + 1]);\n        break;\n\n      case '#':\n        id = chunks[i + 1];\n    }\n  }\n\n  return {\n    className: className.trim(),\n    tag: chunks[0] || 'div',\n    id: id\n  };\n}\n\nfunction unmount (parent, child) {\n  var parentEl = getEl(parent);\n  var childEl = getEl(child);\n\n  if (child === childEl && childEl.__redom_view) {\n    // try to look up the view if not provided\n    child = childEl.__redom_view;\n  }\n\n  if (childEl.parentNode) {\n    doUnmount(child, childEl, parentEl);\n\n    parentEl.removeChild(childEl);\n  }\n\n  return child;\n}\n\nfunction doUnmount (child, childEl, parentEl) {\n  var hooks = childEl.__redom_lifecycle;\n\n  if (hooksAreEmpty(hooks)) {\n    childEl.__redom_lifecycle = {};\n    return;\n  }\n\n  var traverse = parentEl;\n\n  if (childEl.__redom_mounted) {\n    trigger(childEl, 'onunmount');\n  }\n\n  while (traverse) {\n    var parentHooks = traverse.__redom_lifecycle || {};\n\n    for (var hook in hooks) {\n      if (parentHooks[hook]) {\n        parentHooks[hook] -= hooks[hook];\n      }\n    }\n\n    if (hooksAreEmpty(parentHooks)) {\n      traverse.__redom_lifecycle = null;\n    }\n\n    traverse = traverse.parentNode;\n  }\n}\n\nfunction hooksAreEmpty (hooks) {\n  if (hooks == null) {\n    return true;\n  }\n  for (var key in hooks) {\n    if (hooks[key]) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/* global Node, ShadowRoot */\n\nvar hookNames = ['onmount', 'onremount', 'onunmount'];\nvar shadowRootAvailable = typeof window !== 'undefined' && 'ShadowRoot' in window;\n\nfunction mount (parent, child, before, replace) {\n  var parentEl = getEl(parent);\n  var childEl = getEl(child);\n\n  if (child === childEl && childEl.__redom_view) {\n    // try to look up the view if not provided\n    child = childEl.__redom_view;\n  }\n\n  if (child !== childEl) {\n    childEl.__redom_view = child;\n  }\n\n  var wasMounted = childEl.__redom_mounted;\n  var oldParent = childEl.parentNode;\n\n  if (wasMounted && (oldParent !== parentEl)) {\n    doUnmount(child, childEl, oldParent);\n  }\n\n  if (before != null) {\n    if (replace) {\n      var beforeEl = getEl(before);\n\n      if (beforeEl.__redom_mounted) {\n        trigger(beforeEl, 'onunmount');\n      }\n\n      parentEl.replaceChild(childEl, beforeEl);\n    } else {\n      parentEl.insertBefore(childEl, getEl(before));\n    }\n  } else {\n    parentEl.appendChild(childEl);\n  }\n\n  doMount(child, childEl, parentEl, oldParent);\n\n  return child;\n}\n\nfunction trigger (el, eventName) {\n  if (eventName === 'onmount' || eventName === 'onremount') {\n    el.__redom_mounted = true;\n  } else if (eventName === 'onunmount') {\n    el.__redom_mounted = false;\n  }\n\n  var hooks = el.__redom_lifecycle;\n\n  if (!hooks) {\n    return;\n  }\n\n  var view = el.__redom_view;\n  var hookCount = 0;\n\n  view && view[eventName] && view[eventName]();\n\n  for (var hook in hooks) {\n    if (hook) {\n      hookCount++;\n    }\n  }\n\n  if (hookCount) {\n    var traverse = el.firstChild;\n\n    while (traverse) {\n      var next = traverse.nextSibling;\n\n      trigger(traverse, eventName);\n\n      traverse = next;\n    }\n  }\n}\n\nfunction doMount (child, childEl, parentEl, oldParent) {\n  var hooks = childEl.__redom_lifecycle || (childEl.__redom_lifecycle = {});\n  var remount = (parentEl === oldParent);\n  var hooksFound = false;\n\n  for (var i = 0, list = hookNames; i < list.length; i += 1) {\n    var hookName = list[i];\n\n    if (!remount) { // if already mounted, skip this phase\n      if (child !== childEl) { // only Views can have lifecycle events\n        if (hookName in child) {\n          hooks[hookName] = (hooks[hookName] || 0) + 1;\n        }\n      }\n    }\n    if (hooks[hookName]) {\n      hooksFound = true;\n    }\n  }\n\n  if (!hooksFound) {\n    childEl.__redom_lifecycle = {};\n    return;\n  }\n\n  var traverse = parentEl;\n  var triggered = false;\n\n  if (remount || (traverse && traverse.__redom_mounted)) {\n    trigger(childEl, remount ? 'onremount' : 'onmount');\n    triggered = true;\n  }\n\n  while (traverse) {\n    var parent = traverse.parentNode;\n    var parentHooks = traverse.__redom_lifecycle || (traverse.__redom_lifecycle = {});\n\n    for (var hook in hooks) {\n      parentHooks[hook] = (parentHooks[hook] || 0) + hooks[hook];\n    }\n\n    if (triggered) {\n      break;\n    } else {\n      if (traverse.nodeType === Node.DOCUMENT_NODE ||\n        (shadowRootAvailable && (traverse instanceof ShadowRoot)) ||\n        (parent && parent.__redom_mounted)\n      ) {\n        trigger(traverse, remount ? 'onremount' : 'onmount');\n        triggered = true;\n      }\n      traverse = parent;\n    }\n  }\n}\n\nfunction setStyle (view, arg1, arg2) {\n  var el = getEl(view);\n\n  if (typeof arg1 === 'object') {\n    for (var key in arg1) {\n      setStyleValue(el, key, arg1[key]);\n    }\n  } else {\n    setStyleValue(el, arg1, arg2);\n  }\n}\n\nfunction setStyleValue (el, key, value) {\n  el.style[key] = value == null ? '' : value;\n}\n\n/* global SVGElement */\n\nvar xlinkns = 'http://www.w3.org/1999/xlink';\n\nfunction setAttr (view, arg1, arg2) {\n  setAttrInternal(view, arg1, arg2);\n}\n\nfunction setAttrInternal (view, arg1, arg2, initial) {\n  var el = getEl(view);\n\n  var isObj = typeof arg1 === 'object';\n\n  if (isObj) {\n    for (var key in arg1) {\n      setAttrInternal(el, key, arg1[key], initial);\n    }\n  } else {\n    var isSVG = el instanceof SVGElement;\n    var isFunc = typeof arg2 === 'function';\n\n    if (arg1 === 'style' && typeof arg2 === 'object') {\n      setStyle(el, arg2);\n    } else if (isSVG && isFunc) {\n      el[arg1] = arg2;\n    } else if (arg1 === 'dataset') {\n      setData(el, arg2);\n    } else if (!isSVG && (arg1 in el || isFunc) && (arg1 !== 'list')) {\n      el[arg1] = arg2;\n    } else {\n      if (isSVG && (arg1 === 'xlink')) {\n        setXlink(el, arg2);\n        return;\n      }\n      if (initial && arg1 === 'class') {\n        arg2 = el.className + ' ' + arg2;\n      }\n      if (arg2 == null) {\n        el.removeAttribute(arg1);\n      } else {\n        el.setAttribute(arg1, arg2);\n      }\n    }\n  }\n}\n\nfunction setXlink (el, arg1, arg2) {\n  if (typeof arg1 === 'object') {\n    for (var key in arg1) {\n      setXlink(el, key, arg1[key]);\n    }\n  } else {\n    if (arg2 != null) {\n      el.setAttributeNS(xlinkns, arg1, arg2);\n    } else {\n      el.removeAttributeNS(xlinkns, arg1, arg2);\n    }\n  }\n}\n\nfunction setData (el, arg1, arg2) {\n  if (typeof arg1 === 'object') {\n    for (var key in arg1) {\n      setData(el, key, arg1[key]);\n    }\n  } else {\n    if (arg2 != null) {\n      el.dataset[arg1] = arg2;\n    } else {\n      delete el.dataset[arg1];\n    }\n  }\n}\n\nfunction text (str) {\n  return document.createTextNode((str != null) ? str : '');\n}\n\nfunction parseArgumentsInternal (element, args, initial) {\n  for (var i = 0, list = args; i < list.length; i += 1) {\n    var arg = list[i];\n\n    if (arg !== 0 && !arg) {\n      continue;\n    }\n\n    var type = typeof arg;\n\n    if (type === 'function') {\n      arg(element);\n    } else if (type === 'string' || type === 'number') {\n      element.appendChild(text(arg));\n    } else if (isNode(getEl(arg))) {\n      mount(element, arg);\n    } else if (arg.length) {\n      parseArgumentsInternal(element, arg, initial);\n    } else if (type === 'object') {\n      setAttrInternal(element, arg, null, initial);\n    }\n  }\n}\n\nfunction ensureEl (parent) {\n  return typeof parent === 'string' ? html(parent) : getEl(parent);\n}\n\nfunction getEl (parent) {\n  return (parent.nodeType && parent) || (!parent.el && parent) || getEl(parent.el);\n}\n\nfunction isNode (arg) {\n  return arg && arg.nodeType;\n}\n\nfunction html (query) {\n  var args = [], len = arguments.length - 1;\n  while ( len-- > 0 ) args[ len ] = arguments[ len + 1 ];\n\n  var element;\n\n  var type = typeof query;\n\n  if (type === 'string') {\n    element = createElement(query);\n  } else if (type === 'function') {\n    var Query = query;\n    element = new (Function.prototype.bind.apply( Query, [ null ].concat( args) ));\n  } else {\n    throw new Error('At least one argument required');\n  }\n\n  parseArgumentsInternal(getEl(element), args, true);\n\n  return element;\n}\n\nvar el = html;\nvar h = html;\n\nhtml.extend = function extendHtml () {\n  var args = [], len = arguments.length;\n  while ( len-- ) args[ len ] = arguments[ len ];\n\n  return html.bind.apply(html, [ this ].concat( args ));\n};\n\nfunction setChildren (parent) {\n  var children = [], len = arguments.length - 1;\n  while ( len-- > 0 ) children[ len ] = arguments[ len + 1 ];\n\n  var parentEl = getEl(parent);\n  var current = traverse(parent, children, parentEl.firstChild);\n\n  while (current) {\n    var next = current.nextSibling;\n\n    unmount(parent, current);\n\n    current = next;\n  }\n}\n\nfunction traverse (parent, children, _current) {\n  var current = _current;\n\n  var childEls = Array(children.length);\n\n  for (var i = 0; i < children.length; i++) {\n    childEls[i] = children[i] && getEl(children[i]);\n  }\n\n  for (var i$1 = 0; i$1 < children.length; i$1++) {\n    var child = children[i$1];\n\n    if (!child) {\n      continue;\n    }\n\n    var childEl = childEls[i$1];\n\n    if (childEl === current) {\n      current = current.nextSibling;\n      continue;\n    }\n\n    if (isNode(childEl)) {\n      var next = current && current.nextSibling;\n      var exists = child.__redom_index != null;\n      var replace = exists && next === childEls[i$1 + 1];\n\n      mount(parent, child, current, replace);\n\n      if (replace) {\n        current = next;\n      }\n\n      continue;\n    }\n\n    if (child.length != null) {\n      current = traverse(parent, child, current);\n    }\n  }\n\n  return current;\n}\n\nfunction listPool (View, key, initData) {\n  return new ListPool(View, key, initData);\n}\n\nvar ListPool = function ListPool (View, key, initData) {\n  this.View = View;\n  this.initData = initData;\n  this.oldLookup = {};\n  this.lookup = {};\n  this.oldViews = [];\n  this.views = [];\n\n  if (key != null) {\n    this.key = typeof key === 'function' ? key : propKey(key);\n  }\n};\n\nListPool.prototype.update = function update (data, context) {\n  var ref = this;\n    var View = ref.View;\n    var key = ref.key;\n    var initData = ref.initData;\n  var keySet = key != null;\n\n  var oldLookup = this.lookup;\n  var newLookup = {};\n\n  var newViews = Array(data.length);\n  var oldViews = this.views;\n\n  for (var i = 0; i < data.length; i++) {\n    var item = data[i];\n    var view = (void 0);\n\n    if (keySet) {\n      var id = key(item);\n\n      view = oldLookup[id] || new View(initData, item, i, data);\n      newLookup[id] = view;\n      view.__redom_id = id;\n    } else {\n      view = oldViews[i] || new View(initData, item, i, data);\n    }\n    view.update && view.update(item, i, data, context);\n\n    var el = getEl(view.el);\n\n    el.__redom_view = view;\n    newViews[i] = view;\n  }\n\n  this.oldViews = oldViews;\n  this.views = newViews;\n\n  this.oldLookup = oldLookup;\n  this.lookup = newLookup;\n};\n\nfunction propKey (key) {\n  return function (item) {\n    return item[key];\n  };\n}\n\nfunction list (parent, View, key, initData) {\n  return new List(parent, View, key, initData);\n}\n\nvar List = function List (parent, View, key, initData) {\n  this.View = View;\n  this.initData = initData;\n  this.views = [];\n  this.pool = new ListPool(View, key, initData);\n  this.el = ensureEl(parent);\n  this.keySet = key != null;\n};\n\nList.prototype.update = function update (data, context) {\n    if ( data === void 0 ) data = [];\n\n  var ref = this;\n    var keySet = ref.keySet;\n  var oldViews = this.views;\n\n  this.pool.update(data, context);\n\n  var ref$1 = this.pool;\n    var views = ref$1.views;\n    var lookup = ref$1.lookup;\n\n  if (keySet) {\n    for (var i = 0; i < oldViews.length; i++) {\n      var oldView = oldViews[i];\n      var id = oldView.__redom_id;\n\n      if (lookup[id] == null) {\n        oldView.__redom_index = null;\n        unmount(this, oldView);\n      }\n    }\n  }\n\n  for (var i$1 = 0; i$1 < views.length; i$1++) {\n    var view = views[i$1];\n\n    view.__redom_index = i$1;\n  }\n\n  setChildren(this, views);\n\n  if (keySet) {\n    this.lookup = lookup;\n  }\n  this.views = views;\n};\n\nList.extend = function extendList (parent, View, key, initData) {\n  return List.bind(List, parent, View, key, initData);\n};\n\nlist.extend = List.extend;\n\n/* global Node */\n\nfunction place (View, initData) {\n  return new Place(View, initData);\n}\n\nvar Place = function Place (View, initData) {\n  this.el = text('');\n  this.visible = false;\n  this.view = null;\n  this._placeholder = this.el;\n\n  if (View instanceof Node) {\n    this._el = View;\n  } else if (View.el instanceof Node) {\n    this._el = View;\n    this.view = View;\n  } else {\n    this._View = View;\n  }\n\n  this._initData = initData;\n};\n\nPlace.prototype.update = function update (visible, data) {\n  var placeholder = this._placeholder;\n  var parentNode = this.el.parentNode;\n\n  if (visible) {\n    if (!this.visible) {\n      if (this._el) {\n        mount(parentNode, this._el, placeholder);\n        unmount(parentNode, placeholder);\n\n        this.el = getEl(this._el);\n        this.visible = visible;\n      } else {\n        var View = this._View;\n        var view = new View(this._initData);\n\n        this.el = getEl(view);\n        this.view = view;\n\n        mount(parentNode, view, placeholder);\n        unmount(parentNode, placeholder);\n      }\n    }\n    this.view && this.view.update && this.view.update(data);\n  } else {\n    if (this.visible) {\n      if (this._el) {\n        mount(parentNode, placeholder, this._el);\n        unmount(parentNode, this._el);\n\n        this.el = placeholder;\n        this.visible = visible;\n\n        return;\n      }\n      mount(parentNode, placeholder, this.view);\n      unmount(parentNode, this.view);\n\n      this.el = placeholder;\n      this.view = null;\n    }\n  }\n  this.visible = visible;\n};\n\n/* global Node */\n\nfunction router (parent, Views, initData) {\n  return new Router(parent, Views, initData);\n}\n\nvar Router = function Router (parent, Views, initData) {\n  this.el = ensureEl(parent);\n  this.Views = Views;\n  this.initData = initData;\n};\n\nRouter.prototype.update = function update (route, data) {\n  if (route !== this.route) {\n    var Views = this.Views;\n    var View = Views[route];\n\n    this.route = route;\n\n    if (View && (View instanceof Node || View.el instanceof Node)) {\n      this.view = View;\n    } else {\n      this.view = View && new View(this.initData, data);\n    }\n\n    setChildren(this.el, [this.view]);\n  }\n  this.view && this.view.update && this.view.update(data, route);\n};\n\nvar ns = 'http://www.w3.org/2000/svg';\n\nfunction svg (query) {\n  var args = [], len = arguments.length - 1;\n  while ( len-- > 0 ) args[ len ] = arguments[ len + 1 ];\n\n  var element;\n\n  var type = typeof query;\n\n  if (type === 'string') {\n    element = createElement(query, ns);\n  } else if (type === 'function') {\n    var Query = query;\n    element = new (Function.prototype.bind.apply( Query, [ null ].concat( args) ));\n  } else {\n    throw new Error('At least one argument required');\n  }\n\n  parseArgumentsInternal(getEl(element), args, true);\n\n  return element;\n}\n\nvar s = svg;\n\nsvg.extend = function extendSvg () {\n  var args = [], len = arguments.length;\n  while ( len-- ) args[ len ] = arguments[ len ];\n\n  return svg.bind.apply(svg, [ this ].concat( args ));\n};\n\nsvg.ns = ns;\n\nexport { List, ListPool, Place, Router, el, h, html, list, listPool, mount, place, router, s, setAttr, setChildren, setData, setStyle, setXlink, svg, text, unmount };\n","export function roundPosition(coords: [number, number], zoom: number): [number, number] {\r\n    zoom = Math.round(zoom * 100) / 100\r\n    const precision = Math.ceil((zoom * Math.LN2 + Math.log(512 / 360)) / Math.LN10),\r\n        m = Math.pow(10, precision),\r\n        lng = Math.round(coords[0] * m) / m,\r\n        lat = Math.round(coords[1] * m) / m\r\n\r\n    return [lng, lat]\r\n}\r\n\r\ntype RequestInitWithTimeout = RequestInit & { timeout?: number }\r\n\r\nexport async function fetchWithTimeout(\r\n    resource: RequestInfo | URL,\r\n    options: RequestInitWithTimeout = {}\r\n): Promise<Response> {\r\n    const { timeout = 8000 } = options\r\n\r\n    const controller = new AbortController()\r\n    const id = setTimeout(() => controller.abort(), timeout)\r\n\r\n    const response = await fetch(resource, {\r\n        ...options,\r\n        signal: controller.signal,\r\n    })\r\n    clearTimeout(id)\r\n\r\n    return response\r\n}\r\n","import { el } from 'redom'\r\nimport URLHash from '@russss/maplibregl-layer-switcher/urlhash'\r\nimport maplibregl from 'maplibre-gl'\r\nimport { roundPosition } from './util'\r\n\r\nclass Marker implements maplibregl.IControl {\r\n    location: any | null\r\n    marker: any | null\r\n    _map: maplibregl.Map | undefined\r\n    urlHash: URLHash\r\n\r\n    constructor(urlHash: URLHash) {\r\n        this.location = null\r\n        this.marker = null\r\n        this.urlHash = urlHash\r\n        this.urlHash.registerHandler('m', (string: string) => this.setURLString(string))\r\n    }\r\n\r\n    getURLString() {\r\n        if (this.location) {\r\n            return `${this.location[1]},${this.location[0]}`\r\n        } else {\r\n            return null\r\n        }\r\n    }\r\n\r\n    setURLString(string: string) {\r\n        let location\r\n        try {\r\n            const parts = string.split(',')\r\n            location = [parseFloat(parts[1]), parseFloat(parts[0])]\r\n\r\n            if (!location[0] || !location[1]) {\r\n                location = null\r\n            }\r\n        } catch {\r\n            location = null\r\n        }\r\n\r\n        if (\r\n            !this.location ||\r\n            !location ||\r\n            this.location[0] != location[0] ||\r\n            this.location[1] != location[1]\r\n        ) {\r\n            this.location = location\r\n            this.updateLocation()\r\n        }\r\n    }\r\n\r\n    setLocation(location: maplibregl.LngLat | null) {\r\n        if (!this._map) return\r\n\r\n        if (location) {\r\n            this.location = roundPosition([location.lng, location.lat], this._map.getZoom())\r\n        } else {\r\n            this.location = null\r\n        }\r\n        this.updateLocation()\r\n        this.urlHash.setParameter('m', this.getURLString())\r\n    }\r\n\r\n    updateLocation() {\r\n        if (!this._map) {\r\n            return\r\n        }\r\n\r\n        if (this.marker) {\r\n            this.marker.remove()\r\n            this.marker = null\r\n        }\r\n\r\n        if (this.location) {\r\n            this.marker = new maplibregl.Marker({ color: '#BA0000' })\r\n                .setLngLat(this.location)\r\n                .addTo(this._map)\r\n        }\r\n    }\r\n\r\n    onAdd(map: maplibregl.Map) {\r\n        this._map = map\r\n        this._map.on('load', () => {\r\n            this.updateLocation()\r\n        })\r\n        return el('div')\r\n    }\r\n\r\n    onRemove() {\r\n        this._map = undefined\r\n    }\r\n}\r\n\r\nexport default Marker\r\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]';\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  // Safari 9 makes `arguments.length` enumerable in strict mode.\n  var result = (isArray(value) || isArguments(value))\n    ? baseTimes(value.length, String)\n    : [];\n\n  var length = result.length,\n      skipIndexes = !!length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (key == 'length' || isIndex(key, length)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\n/**\n * The base implementation of `_.invert` and `_.invertBy` which inverts\n * `object` with values transformed by `iteratee` and set by `setter`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform values.\n * @param {Object} accumulator The initial inverted object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction baseInverter(object, setter, iteratee, accumulator) {\n  baseForOwn(object, function(value, key, object) {\n    setter(accumulator, iteratee(value), key, object);\n  });\n  return accumulator;\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\n/**\n * Creates a function like `_.invertBy`.\n *\n * @private\n * @param {Function} setter The function to set accumulator values.\n * @param {Function} toIteratee The function to resolve iteratees.\n * @returns {Function} Returns the new inverter function.\n */\nfunction createInverter(setter, toIteratee) {\n  return function(object, iteratee) {\n    return baseInverter(object, setter, toIteratee(iteratee), {});\n  };\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Creates an object composed of the inverted keys and values of `object`.\n * If `object` contains duplicate values, subsequent values overwrite\n * property assignments of previous values.\n *\n * @static\n * @memberOf _\n * @since 0.7.0\n * @category Object\n * @param {Object} object The object to invert.\n * @returns {Object} Returns the new inverted object.\n * @example\n *\n * var object = { 'a': 1, 'b': 2, 'c': 1 };\n *\n * _.invert(object);\n * // => { '1': 'c', '2': 'b' }\n */\nvar invert = createInverter(function(result, value, key) {\n  result[value] = key;\n}, constant(identity));\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\n/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\n/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = invert;\n","/**\n * Lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright JS Foundation and other contributors <https://js.foundation/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    asyncTag = '[object AsyncFunction]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    nullTag = '[object Null]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    proxyTag = '[object Proxy]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    undefinedTag = '[object Undefined]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice,\n    symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols,\n    nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeKeys = overArg(Object.keys, Object);\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView'),\n    Map = getNative(root, 'Map'),\n    Promise = getNative(root, 'Promise'),\n    Set = getNative(root, 'Set'),\n    WeakMap = getNative(root, 'WeakMap'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\n/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(array);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(object);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\n/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = isEqual;\n","import { list, el, mount } from 'redom';\nimport invert from 'lodash.invert';\nimport isEqual from 'lodash.isequal';\nimport './layerswitcher.css';\nclass LayerSwitcher {\n    constructor(layers, default_visible = []) {\n        this._layers = layers;\n        this._identifiers = this._initLayerIdentifiers();\n        this._default_visible = default_visible;\n        this._layerList = list('ul', LayerSwitcherItem, 'name');\n        this._container = el('div', [el('h3', 'Layers'), this._layerList], { class: 'layer-switcher-list' });\n        mount(document.body, this._container);\n        this._visible = [...default_visible];\n    }\n    _initLayerIdentifiers() {\n        let identifiers = {};\n        Object.keys(this._layers)\n            .sort()\n            .forEach((layer_name) => {\n            let size = 1;\n            let ident = null;\n            do {\n                ident = layer_name.slice(0, size);\n                size++;\n            } while (ident in identifiers);\n            identifiers[ident] = layer_name;\n        });\n        return identifiers;\n    }\n    _getLayerIdentifiers() {\n        let identifiers = [];\n        let id_map = invert(this._identifiers);\n        this._visible.sort().forEach((layer_name) => {\n            identifiers.push(id_map[layer_name]);\n        });\n        return identifiers;\n    }\n    _updateVisibility() {\n        if (!this._map) {\n            return;\n        }\n        var layers = this._map.getStyle().layers;\n        for (let layer of layers) {\n            let name = layer['id'];\n            for (let layer_name in this._layers) {\n                let pref = this._layers[layer_name];\n                if (name.startsWith(pref)) {\n                    if (this._visible.includes(layer_name)) {\n                        this._map.setLayoutProperty(name, 'visibility', 'visible');\n                    }\n                    else {\n                        this._map.setLayoutProperty(name, 'visibility', 'none');\n                    }\n                }\n            }\n        }\n        if (this.urlhash) {\n            this.urlhash._updateHash();\n        }\n    }\n    /**\n     * Modify a MapLibre GL style object before creating the map to set initial visibility states.\n     * This prevents flash-of-invisible-layers.\n     *\n     * @param style the MapLibre GL style object to modify\n     */\n    setInitialVisibility(style) {\n        for (let layer of style['layers']) {\n            for (let layer_name in this._layers) {\n                let pref = this._layers[layer_name];\n                if (layer['id'].startsWith(pref) && !this._visible.includes(layer['id'])) {\n                    if (!layer['layout']) {\n                        layer['layout'] = {};\n                    }\n                    layer['layout']['visibility'] = 'none';\n                }\n            }\n        }\n        this._updateList();\n    }\n    getURLString() {\n        if (!isEqual(this._visible.sort(), this._default_visible.sort())) {\n            return this._getLayerIdentifiers().join(',');\n        }\n        return '';\n    }\n    setURLString(string) {\n        var _a;\n        if (string) {\n            const ids = string.split(',');\n            if (ids.length == 0) {\n                this._visible = [...this._default_visible];\n            }\n            else {\n                this._visible = ids.map((id) => this._identifiers[id]).filter((id) => id);\n            }\n        }\n        else {\n            this._visible = [...this._default_visible];\n        }\n        // If the style hasn't been loaded yet, don't update visibility or this causes\n        // problems with the URLHash. Initial visibility is handled by the\n        // `setInitialVisibility` method.\n        if ((_a = this._map) === null || _a === void 0 ? void 0 : _a.isStyleLoaded()) {\n            this._updateVisibility();\n        }\n        this._updateList();\n    }\n    onAdd(map) {\n        this._map = map;\n        if (map.isStyleLoaded()) {\n            this._updateVisibility();\n        }\n        else {\n            map.on('load', () => {\n                this._updateVisibility();\n            });\n        }\n        const button = el('button', {\n            class: 'layer-switcher-button',\n            'aria-label': 'Layer Switcher',\n        });\n        button.onmouseover = (e) => {\n            var button_position = button.getBoundingClientRect();\n            this._container.style.top = button_position.top + 'px';\n            this._container.style.right = document.documentElement.clientWidth - button_position.right + 'px';\n            this._container.style.display = 'block';\n        };\n        this._container.onmouseleave = (e) => {\n            this._container.style.display = 'none';\n        };\n        return el('div', button, {\n            class: 'maplibregl-ctrl maplibregl-ctrl-group layer-switcher',\n        });\n    }\n    onRemove() {\n        var _a;\n        (_a = this._container.parentNode) === null || _a === void 0 ? void 0 : _a.removeChild(this._container);\n        this._map = undefined;\n    }\n    _updateList() {\n        this._layerList.update(Object.keys(this._layers).map((name) => {\n            return {\n                enabled: this._visible.includes(name),\n                name: name,\n            };\n        }), this);\n    }\n}\nclass LayerSwitcherItem {\n    constructor() {\n        this._checkbox = el('input', {\n            type: 'checkbox',\n        });\n        this._label = el('label');\n        this.el = el('li', this._label);\n        this._checkbox.onchange = (e) => this.onChange(e);\n    }\n    onChange(e) {\n        if (!this.layerSwitcher)\n            return;\n        const name = this._label.innerText;\n        if (e.target.checked) {\n            this.layerSwitcher._visible.push(name);\n        }\n        else {\n            this.layerSwitcher._visible = this.layerSwitcher._visible.filter((item) => item !== name);\n        }\n        this.layerSwitcher._updateVisibility();\n    }\n    update(data, index, items, context) {\n        this.layerSwitcher = context;\n        let label_for = 'layerSwitch' + index;\n        this._checkbox.id = label_for;\n        this._label.setAttribute('for', label_for);\n        this._checkbox.checked = data.enabled;\n        this._label.innerText = data.name;\n        mount(this._label, this._checkbox);\n    }\n}\nexport default LayerSwitcher;\n","export function decodeHash(hash) {\n    const loc = hash.replace('#', '').split('/');\n    let result = { additional: {} };\n    if (loc.length < 3) {\n        return result;\n    }\n    result.layers = '';\n    result.zoom = +loc[0];\n    result.center = [+loc[2], +loc[1]];\n    for (let i = 3; i < loc.length; i++) {\n        let component = loc[i];\n        let matches = component.match(/^(\\w+)=(.*)$/);\n        if (matches) {\n            result.additional = result.additional || {};\n            result.additional[matches[1]] = matches[2];\n        }\n        else {\n            result.layers = component;\n        }\n    }\n    return result;\n}\nexport function encodeHash(components) {\n    if (!components.zoom || !components.center) {\n        return '';\n    }\n    const zoom = Math.round(components.zoom * 100) / 100, \n    // derived from equation: 512px * 2^z / 360 / 10^d < 0.5px\n    precision = Math.ceil((zoom * Math.LN2 + Math.log(512 / 360 / 0.5)) / Math.LN10), m = Math.pow(10, precision), lng = Math.round(components.center[0] * m) / m, lat = Math.round(components.center[1] * m) / m;\n    // bearing = this._map.getBearing(),\n    // pitch = this._map.getPitch();\n    let hash = `#${zoom}/${lat}/${lng}`;\n    if (components.layers) {\n        hash += '/' + components.layers;\n    }\n    if (components.additional) {\n        for (let key in components.additional) {\n            hash += '/' + key + '=' + components.additional[key];\n        }\n    }\n    return hash;\n}\nclass URLHash {\n    constructor(layerSwitcher) {\n        this.layerSwitcher = layerSwitcher;\n        this.additional = {};\n        this.handlers = {};\n    }\n    enable(map) {\n        this._map = map;\n        this._onHashChange(window.location.hash);\n        map.on('moveend', () => {\n            this._updateHash();\n        });\n        window.addEventListener('hashchange', () => {\n            this._onHashChange(window.location.hash);\n        }, false);\n    }\n    /**\n     * Register a handler for a URL hash parameter. The key will be included in\n     * the URL hash, so keep it as short as possible.\n     *\n     * @param key short key used to identify the parameter in the URL hash\n     * @param handler handler function that will be called when the parameter changes\n     */\n    registerHandler(key, handler) {\n        this.handlers[key] = handler;\n    }\n    /**\n     * Set a custom URL hash parameter. Use `registerHandler` to receive a notification\n     * when the parameter changes.\n     *\n     * @param key short key used to identify the parameter in the URL hash\n     * @param value the value of the parameter, or null to remove it.\n     */\n    setParameter(key, value) {\n        if (this.additional[key] !== value) {\n            if (value === null) {\n                delete this.additional[key];\n            }\n            else {\n                this.additional[key] = value;\n            }\n            this._updateHash();\n        }\n    }\n    _fireParameterChange(key, value) {\n        if (this.handlers[key]) {\n            this.handlers[key](value);\n        }\n    }\n    _onHashChange(new_hash) {\n        var _a;\n        const hash = decodeHash(new_hash);\n        // Check for changes in the additional parameters and fire callbacks.\n        // We need to do this first as calling jumpTo generates an _updateHash event\n        // which will lose our additional parameters.\n        let parameter_keys = [...Object.keys(hash.additional), ...Object.keys(this.additional)];\n        for (let key of parameter_keys) {\n            if (this.additional[key] && !hash.additional[key]) {\n                delete this.additional[key];\n                this._fireParameterChange(key, null);\n            }\n            else if (hash.additional[key] && this.additional[key] !== hash.additional[key]) {\n                this.additional[key] = hash.additional[key];\n                this._fireParameterChange(key, hash.additional[key]);\n            }\n        }\n        if (((_a = this._map) === null || _a === void 0 ? void 0 : _a.isStyleLoaded()) && hash.center && hash.zoom) {\n            this._map.jumpTo({\n                center: hash.center,\n                zoom: hash.zoom,\n            });\n        }\n        if (this.layerSwitcher && hash.layers !== undefined) {\n            this.layerSwitcher.setURLString(hash.layers);\n        }\n    }\n    _updateHash() {\n        const newHash = this.getHashString();\n        try {\n            window.history.replaceState(window.history.state, '', newHash);\n        }\n        catch (e) {\n            console.log(e);\n        }\n    }\n    getHashString() {\n        if (!this._map) {\n            throw new Error('getHashString called before map initialised');\n        }\n        const { lng, lat } = this._map.getCenter();\n        const components = {\n            center: [lng, lat],\n            zoom: this._map.getZoom(),\n            additional: this.additional,\n        };\n        if (this.layerSwitcher) {\n            components.layers = this.layerSwitcher.getURLString();\n        }\n        return encodeHash(components);\n    }\n    /**\n     * Modify MapLibre GL map constructor options to include values from the URL hash.\n     *\n     * @param options the original options passed to the MapLibre GL `Map` constructor.\n     *      You should include defaults for the `center` and `zoom` parameters.\n     * @returns an options object to be passed to the `Map` constructor, with the\n     *      `center` and `zoom` parameters updated if necessary. Other options are untouched.\n     */\n    init(options) {\n        options.hash = false;\n        const loc = window.location.hash.replace('#', '').split('/');\n        if (loc.length >= 3) {\n            options.center = [+loc[2], +loc[1]];\n            options.zoom = +loc[0];\n        }\n        return options;\n    }\n}\nexport default URLHash;\n","/**\n * @module helpers\n */\n/**\n * Earth Radius used with the Harvesine formula and approximates using a spherical (non-ellipsoid) Earth.\n *\n * @memberof helpers\n * @type {number}\n */\nexport var earthRadius = 6371008.8;\n/**\n * Unit of measurement factors using a spherical (non-ellipsoid) earth radius.\n *\n * @memberof helpers\n * @type {Object}\n */\nexport var factors = {\n    centimeters: earthRadius * 100,\n    centimetres: earthRadius * 100,\n    degrees: earthRadius / 111325,\n    feet: earthRadius * 3.28084,\n    inches: earthRadius * 39.37,\n    kilometers: earthRadius / 1000,\n    kilometres: earthRadius / 1000,\n    meters: earthRadius,\n    metres: earthRadius,\n    miles: earthRadius / 1609.344,\n    millimeters: earthRadius * 1000,\n    millimetres: earthRadius * 1000,\n    nauticalmiles: earthRadius / 1852,\n    radians: 1,\n    yards: earthRadius * 1.0936,\n};\n/**\n * Units of measurement factors based on 1 meter.\n *\n * @memberof helpers\n * @type {Object}\n */\nexport var unitsFactors = {\n    centimeters: 100,\n    centimetres: 100,\n    degrees: 1 / 111325,\n    feet: 3.28084,\n    inches: 39.37,\n    kilometers: 1 / 1000,\n    kilometres: 1 / 1000,\n    meters: 1,\n    metres: 1,\n    miles: 1 / 1609.344,\n    millimeters: 1000,\n    millimetres: 1000,\n    nauticalmiles: 1 / 1852,\n    radians: 1 / earthRadius,\n    yards: 1.0936133,\n};\n/**\n * Area of measurement factors based on 1 square meter.\n *\n * @memberof helpers\n * @type {Object}\n */\nexport var areaFactors = {\n    acres: 0.000247105,\n    centimeters: 10000,\n    centimetres: 10000,\n    feet: 10.763910417,\n    hectares: 0.0001,\n    inches: 1550.003100006,\n    kilometers: 0.000001,\n    kilometres: 0.000001,\n    meters: 1,\n    metres: 1,\n    miles: 3.86e-7,\n    millimeters: 1000000,\n    millimetres: 1000000,\n    yards: 1.195990046,\n};\n/**\n * Wraps a GeoJSON {@link Geometry} in a GeoJSON {@link Feature}.\n *\n * @name feature\n * @param {Geometry} geometry input geometry\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature} a GeoJSON Feature\n * @example\n * var geometry = {\n *   \"type\": \"Point\",\n *   \"coordinates\": [110, 50]\n * };\n *\n * var feature = turf.feature(geometry);\n *\n * //=feature\n */\nexport function feature(geom, properties, options) {\n    if (options === void 0) { options = {}; }\n    var feat = { type: \"Feature\" };\n    if (options.id === 0 || options.id) {\n        feat.id = options.id;\n    }\n    if (options.bbox) {\n        feat.bbox = options.bbox;\n    }\n    feat.properties = properties || {};\n    feat.geometry = geom;\n    return feat;\n}\n/**\n * Creates a GeoJSON {@link Geometry} from a Geometry string type & coordinates.\n * For GeometryCollection type use `helpers.geometryCollection`\n *\n * @name geometry\n * @param {string} type Geometry Type\n * @param {Array<any>} coordinates Coordinates\n * @param {Object} [options={}] Optional Parameters\n * @returns {Geometry} a GeoJSON Geometry\n * @example\n * var type = \"Point\";\n * var coordinates = [110, 50];\n * var geometry = turf.geometry(type, coordinates);\n * // => geometry\n */\nexport function geometry(type, coordinates, _options) {\n    if (_options === void 0) { _options = {}; }\n    switch (type) {\n        case \"Point\":\n            return point(coordinates).geometry;\n        case \"LineString\":\n            return lineString(coordinates).geometry;\n        case \"Polygon\":\n            return polygon(coordinates).geometry;\n        case \"MultiPoint\":\n            return multiPoint(coordinates).geometry;\n        case \"MultiLineString\":\n            return multiLineString(coordinates).geometry;\n        case \"MultiPolygon\":\n            return multiPolygon(coordinates).geometry;\n        default:\n            throw new Error(type + \" is invalid\");\n    }\n}\n/**\n * Creates a {@link Point} {@link Feature} from a Position.\n *\n * @name point\n * @param {Array<number>} coordinates longitude, latitude position (each in decimal degrees)\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<Point>} a Point feature\n * @example\n * var point = turf.point([-75.343, 39.984]);\n *\n * //=point\n */\nexport function point(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    if (!coordinates) {\n        throw new Error(\"coordinates is required\");\n    }\n    if (!Array.isArray(coordinates)) {\n        throw new Error(\"coordinates must be an Array\");\n    }\n    if (coordinates.length < 2) {\n        throw new Error(\"coordinates must be at least 2 numbers long\");\n    }\n    if (!isNumber(coordinates[0]) || !isNumber(coordinates[1])) {\n        throw new Error(\"coordinates must contain numbers\");\n    }\n    var geom = {\n        type: \"Point\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\n/**\n * Creates a {@link Point} {@link FeatureCollection} from an Array of Point coordinates.\n *\n * @name points\n * @param {Array<Array<number>>} coordinates an array of Points\n * @param {Object} [properties={}] Translate these properties to each Feature\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north]\n * associated with the FeatureCollection\n * @param {string|number} [options.id] Identifier associated with the FeatureCollection\n * @returns {FeatureCollection<Point>} Point Feature\n * @example\n * var points = turf.points([\n *   [-75, 39],\n *   [-80, 45],\n *   [-78, 50]\n * ]);\n *\n * //=points\n */\nexport function points(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    return featureCollection(coordinates.map(function (coords) {\n        return point(coords, properties);\n    }), options);\n}\n/**\n * Creates a {@link Polygon} {@link Feature} from an Array of LinearRings.\n *\n * @name polygon\n * @param {Array<Array<Array<number>>>} coordinates an array of LinearRings\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<Polygon>} Polygon Feature\n * @example\n * var polygon = turf.polygon([[[-5, 52], [-4, 56], [-2, 51], [-7, 54], [-5, 52]]], { name: 'poly1' });\n *\n * //=polygon\n */\nexport function polygon(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    for (var _i = 0, coordinates_1 = coordinates; _i < coordinates_1.length; _i++) {\n        var ring = coordinates_1[_i];\n        if (ring.length < 4) {\n            throw new Error(\"Each LinearRing of a Polygon must have 4 or more Positions.\");\n        }\n        for (var j = 0; j < ring[ring.length - 1].length; j++) {\n            // Check if first point of Polygon contains two numbers\n            if (ring[ring.length - 1][j] !== ring[0][j]) {\n                throw new Error(\"First and last Position are not equivalent.\");\n            }\n        }\n    }\n    var geom = {\n        type: \"Polygon\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\n/**\n * Creates a {@link Polygon} {@link FeatureCollection} from an Array of Polygon coordinates.\n *\n * @name polygons\n * @param {Array<Array<Array<Array<number>>>>} coordinates an array of Polygon coordinates\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the FeatureCollection\n * @returns {FeatureCollection<Polygon>} Polygon FeatureCollection\n * @example\n * var polygons = turf.polygons([\n *   [[[-5, 52], [-4, 56], [-2, 51], [-7, 54], [-5, 52]]],\n *   [[[-15, 42], [-14, 46], [-12, 41], [-17, 44], [-15, 42]]],\n * ]);\n *\n * //=polygons\n */\nexport function polygons(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    return featureCollection(coordinates.map(function (coords) {\n        return polygon(coords, properties);\n    }), options);\n}\n/**\n * Creates a {@link LineString} {@link Feature} from an Array of Positions.\n *\n * @name lineString\n * @param {Array<Array<number>>} coordinates an array of Positions\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<LineString>} LineString Feature\n * @example\n * var linestring1 = turf.lineString([[-24, 63], [-23, 60], [-25, 65], [-20, 69]], {name: 'line 1'});\n * var linestring2 = turf.lineString([[-14, 43], [-13, 40], [-15, 45], [-10, 49]], {name: 'line 2'});\n *\n * //=linestring1\n * //=linestring2\n */\nexport function lineString(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    if (coordinates.length < 2) {\n        throw new Error(\"coordinates must be an array of two or more positions\");\n    }\n    var geom = {\n        type: \"LineString\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\n/**\n * Creates a {@link LineString} {@link FeatureCollection} from an Array of LineString coordinates.\n *\n * @name lineStrings\n * @param {Array<Array<Array<number>>>} coordinates an array of LinearRings\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north]\n * associated with the FeatureCollection\n * @param {string|number} [options.id] Identifier associated with the FeatureCollection\n * @returns {FeatureCollection<LineString>} LineString FeatureCollection\n * @example\n * var linestrings = turf.lineStrings([\n *   [[-24, 63], [-23, 60], [-25, 65], [-20, 69]],\n *   [[-14, 43], [-13, 40], [-15, 45], [-10, 49]]\n * ]);\n *\n * //=linestrings\n */\nexport function lineStrings(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    return featureCollection(coordinates.map(function (coords) {\n        return lineString(coords, properties);\n    }), options);\n}\n/**\n * Takes one or more {@link Feature|Features} and creates a {@link FeatureCollection}.\n *\n * @name featureCollection\n * @param {Feature[]} features input features\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {FeatureCollection} FeatureCollection of Features\n * @example\n * var locationA = turf.point([-75.343, 39.984], {name: 'Location A'});\n * var locationB = turf.point([-75.833, 39.284], {name: 'Location B'});\n * var locationC = turf.point([-75.534, 39.123], {name: 'Location C'});\n *\n * var collection = turf.featureCollection([\n *   locationA,\n *   locationB,\n *   locationC\n * ]);\n *\n * //=collection\n */\nexport function featureCollection(features, options) {\n    if (options === void 0) { options = {}; }\n    var fc = { type: \"FeatureCollection\" };\n    if (options.id) {\n        fc.id = options.id;\n    }\n    if (options.bbox) {\n        fc.bbox = options.bbox;\n    }\n    fc.features = features;\n    return fc;\n}\n/**\n * Creates a {@link Feature<MultiLineString>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name multiLineString\n * @param {Array<Array<Array<number>>>} coordinates an array of LineStrings\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<MultiLineString>} a MultiLineString feature\n * @throws {Error} if no coordinates are passed\n * @example\n * var multiLine = turf.multiLineString([[[0,0],[10,10]]]);\n *\n * //=multiLine\n */\nexport function multiLineString(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    var geom = {\n        type: \"MultiLineString\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\n/**\n * Creates a {@link Feature<MultiPoint>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name multiPoint\n * @param {Array<Array<number>>} coordinates an array of Positions\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<MultiPoint>} a MultiPoint feature\n * @throws {Error} if no coordinates are passed\n * @example\n * var multiPt = turf.multiPoint([[0,0],[10,10]]);\n *\n * //=multiPt\n */\nexport function multiPoint(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    var geom = {\n        type: \"MultiPoint\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\n/**\n * Creates a {@link Feature<MultiPolygon>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name multiPolygon\n * @param {Array<Array<Array<Array<number>>>>} coordinates an array of Polygons\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<MultiPolygon>} a multipolygon feature\n * @throws {Error} if no coordinates are passed\n * @example\n * var multiPoly = turf.multiPolygon([[[[0,0],[0,10],[10,10],[10,0],[0,0]]]]);\n *\n * //=multiPoly\n *\n */\nexport function multiPolygon(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    var geom = {\n        type: \"MultiPolygon\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\n/**\n * Creates a {@link Feature<GeometryCollection>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name geometryCollection\n * @param {Array<Geometry>} geometries an array of GeoJSON Geometries\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<GeometryCollection>} a GeoJSON GeometryCollection Feature\n * @example\n * var pt = turf.geometry(\"Point\", [100, 0]);\n * var line = turf.geometry(\"LineString\", [[101, 0], [102, 1]]);\n * var collection = turf.geometryCollection([pt, line]);\n *\n * // => collection\n */\nexport function geometryCollection(geometries, properties, options) {\n    if (options === void 0) { options = {}; }\n    var geom = {\n        type: \"GeometryCollection\",\n        geometries: geometries,\n    };\n    return feature(geom, properties, options);\n}\n/**\n * Round number to precision\n *\n * @param {number} num Number\n * @param {number} [precision=0] Precision\n * @returns {number} rounded number\n * @example\n * turf.round(120.4321)\n * //=120\n *\n * turf.round(120.4321, 2)\n * //=120.43\n */\nexport function round(num, precision) {\n    if (precision === void 0) { precision = 0; }\n    if (precision && !(precision >= 0)) {\n        throw new Error(\"precision must be a positive number\");\n    }\n    var multiplier = Math.pow(10, precision || 0);\n    return Math.round(num * multiplier) / multiplier;\n}\n/**\n * Convert a distance measurement (assuming a spherical Earth) from radians to a more friendly unit.\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, kilometers, centimeters, feet\n *\n * @name radiansToLength\n * @param {number} radians in radians across the sphere\n * @param {string} [units=\"kilometers\"] can be degrees, radians, miles, inches, yards, metres,\n * meters, kilometres, kilometers.\n * @returns {number} distance\n */\nexport function radiansToLength(radians, units) {\n    if (units === void 0) { units = \"kilometers\"; }\n    var factor = factors[units];\n    if (!factor) {\n        throw new Error(units + \" units is invalid\");\n    }\n    return radians * factor;\n}\n/**\n * Convert a distance measurement (assuming a spherical Earth) from a real-world unit into radians\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, kilometers, centimeters, feet\n *\n * @name lengthToRadians\n * @param {number} distance in real units\n * @param {string} [units=\"kilometers\"] can be degrees, radians, miles, inches, yards, metres,\n * meters, kilometres, kilometers.\n * @returns {number} radians\n */\nexport function lengthToRadians(distance, units) {\n    if (units === void 0) { units = \"kilometers\"; }\n    var factor = factors[units];\n    if (!factor) {\n        throw new Error(units + \" units is invalid\");\n    }\n    return distance / factor;\n}\n/**\n * Convert a distance measurement (assuming a spherical Earth) from a real-world unit into degrees\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, centimeters, kilometres, feet\n *\n * @name lengthToDegrees\n * @param {number} distance in real units\n * @param {string} [units=\"kilometers\"] can be degrees, radians, miles, inches, yards, metres,\n * meters, kilometres, kilometers.\n * @returns {number} degrees\n */\nexport function lengthToDegrees(distance, units) {\n    return radiansToDegrees(lengthToRadians(distance, units));\n}\n/**\n * Converts any bearing angle from the north line direction (positive clockwise)\n * and returns an angle between 0-360 degrees (positive clockwise), 0 being the north line\n *\n * @name bearingToAzimuth\n * @param {number} bearing angle, between -180 and +180 degrees\n * @returns {number} angle between 0 and 360 degrees\n */\nexport function bearingToAzimuth(bearing) {\n    var angle = bearing % 360;\n    if (angle < 0) {\n        angle += 360;\n    }\n    return angle;\n}\n/**\n * Converts an angle in radians to degrees\n *\n * @name radiansToDegrees\n * @param {number} radians angle in radians\n * @returns {number} degrees between 0 and 360 degrees\n */\nexport function radiansToDegrees(radians) {\n    var degrees = radians % (2 * Math.PI);\n    return (degrees * 180) / Math.PI;\n}\n/**\n * Converts an angle in degrees to radians\n *\n * @name degreesToRadians\n * @param {number} degrees angle between 0 and 360 degrees\n * @returns {number} angle in radians\n */\nexport function degreesToRadians(degrees) {\n    var radians = degrees % 360;\n    return (radians * Math.PI) / 180;\n}\n/**\n * Converts a length to the requested unit.\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, kilometers, centimeters, feet\n *\n * @param {number} length to be converted\n * @param {Units} [originalUnit=\"kilometers\"] of the length\n * @param {Units} [finalUnit=\"kilometers\"] returned unit\n * @returns {number} the converted length\n */\nexport function convertLength(length, originalUnit, finalUnit) {\n    if (originalUnit === void 0) { originalUnit = \"kilometers\"; }\n    if (finalUnit === void 0) { finalUnit = \"kilometers\"; }\n    if (!(length >= 0)) {\n        throw new Error(\"length must be a positive number\");\n    }\n    return radiansToLength(lengthToRadians(length, originalUnit), finalUnit);\n}\n/**\n * Converts a area to the requested unit.\n * Valid units: kilometers, kilometres, meters, metres, centimetres, millimeters, acres, miles, yards, feet, inches, hectares\n * @param {number} area to be converted\n * @param {Units} [originalUnit=\"meters\"] of the distance\n * @param {Units} [finalUnit=\"kilometers\"] returned unit\n * @returns {number} the converted area\n */\nexport function convertArea(area, originalUnit, finalUnit) {\n    if (originalUnit === void 0) { originalUnit = \"meters\"; }\n    if (finalUnit === void 0) { finalUnit = \"kilometers\"; }\n    if (!(area >= 0)) {\n        throw new Error(\"area must be a positive number\");\n    }\n    var startFactor = areaFactors[originalUnit];\n    if (!startFactor) {\n        throw new Error(\"invalid original units\");\n    }\n    var finalFactor = areaFactors[finalUnit];\n    if (!finalFactor) {\n        throw new Error(\"invalid final units\");\n    }\n    return (area / startFactor) * finalFactor;\n}\n/**\n * isNumber\n *\n * @param {*} num Number to validate\n * @returns {boolean} true/false\n * @example\n * turf.isNumber(123)\n * //=true\n * turf.isNumber('foo')\n * //=false\n */\nexport function isNumber(num) {\n    return !isNaN(num) && num !== null && !Array.isArray(num);\n}\n/**\n * isObject\n *\n * @param {*} input variable to validate\n * @returns {boolean} true/false\n * @example\n * turf.isObject({elevation: 10})\n * //=true\n * turf.isObject('foo')\n * //=false\n */\nexport function isObject(input) {\n    return !!input && input.constructor === Object;\n}\n/**\n * Validate BBox\n *\n * @private\n * @param {Array<number>} bbox BBox to validate\n * @returns {void}\n * @throws Error if BBox is not valid\n * @example\n * validateBBox([-180, -40, 110, 50])\n * //=OK\n * validateBBox([-180, -40])\n * //=Error\n * validateBBox('Foo')\n * //=Error\n * validateBBox(5)\n * //=Error\n * validateBBox(null)\n * //=Error\n * validateBBox(undefined)\n * //=Error\n */\nexport function validateBBox(bbox) {\n    if (!bbox) {\n        throw new Error(\"bbox is required\");\n    }\n    if (!Array.isArray(bbox)) {\n        throw new Error(\"bbox must be an Array\");\n    }\n    if (bbox.length !== 4 && bbox.length !== 6) {\n        throw new Error(\"bbox must be an Array of 4 or 6 numbers\");\n    }\n    bbox.forEach(function (num) {\n        if (!isNumber(num)) {\n            throw new Error(\"bbox must only contain numbers\");\n        }\n    });\n}\n/**\n * Validate Id\n *\n * @private\n * @param {string|number} id Id to validate\n * @returns {void}\n * @throws Error if Id is not valid\n * @example\n * validateId([-180, -40, 110, 50])\n * //=Error\n * validateId([-180, -40])\n * //=Error\n * validateId('Foo')\n * //=OK\n * validateId(5)\n * //=OK\n * validateId(null)\n * //=Error\n * validateId(undefined)\n * //=Error\n */\nexport function validateId(id) {\n    if (!id) {\n        throw new Error(\"id is required\");\n    }\n    if ([\"string\", \"number\"].indexOf(typeof id) === -1) {\n        throw new Error(\"id must be a number or a string\");\n    }\n}\n","import { isNumber, } from \"@turf/helpers\";\n/**\n * Unwrap a coordinate from a Point Feature, Geometry or a single coordinate.\n *\n * @name getCoord\n * @param {Array<number>|Geometry<Point>|Feature<Point>} coord GeoJSON Point or an Array of numbers\n * @returns {Array<number>} coordinates\n * @example\n * var pt = turf.point([10, 10]);\n *\n * var coord = turf.getCoord(pt);\n * //= [10, 10]\n */\nexport function getCoord(coord) {\n    if (!coord) {\n        throw new Error(\"coord is required\");\n    }\n    if (!Array.isArray(coord)) {\n        if (coord.type === \"Feature\" &&\n            coord.geometry !== null &&\n            coord.geometry.type === \"Point\") {\n            return coord.geometry.coordinates;\n        }\n        if (coord.type === \"Point\") {\n            return coord.coordinates;\n        }\n    }\n    if (Array.isArray(coord) &&\n        coord.length >= 2 &&\n        !Array.isArray(coord[0]) &&\n        !Array.isArray(coord[1])) {\n        return coord;\n    }\n    throw new Error(\"coord must be GeoJSON Point or an Array of numbers\");\n}\n/**\n * Unwrap coordinates from a Feature, Geometry Object or an Array\n *\n * @name getCoords\n * @param {Array<any>|Geometry|Feature} coords Feature, Geometry Object or an Array\n * @returns {Array<any>} coordinates\n * @example\n * var poly = turf.polygon([[[119.32, -8.7], [119.55, -8.69], [119.51, -8.54], [119.32, -8.7]]]);\n *\n * var coords = turf.getCoords(poly);\n * //= [[[119.32, -8.7], [119.55, -8.69], [119.51, -8.54], [119.32, -8.7]]]\n */\nexport function getCoords(coords) {\n    if (Array.isArray(coords)) {\n        return coords;\n    }\n    // Feature\n    if (coords.type === \"Feature\") {\n        if (coords.geometry !== null) {\n            return coords.geometry.coordinates;\n        }\n    }\n    else {\n        // Geometry\n        if (coords.coordinates) {\n            return coords.coordinates;\n        }\n    }\n    throw new Error(\"coords must be GeoJSON Feature, Geometry Object or an Array\");\n}\n/**\n * Checks if coordinates contains a number\n *\n * @name containsNumber\n * @param {Array<any>} coordinates GeoJSON Coordinates\n * @returns {boolean} true if Array contains a number\n */\nexport function containsNumber(coordinates) {\n    if (coordinates.length > 1 &&\n        isNumber(coordinates[0]) &&\n        isNumber(coordinates[1])) {\n        return true;\n    }\n    if (Array.isArray(coordinates[0]) && coordinates[0].length) {\n        return containsNumber(coordinates[0]);\n    }\n    throw new Error(\"coordinates must only contain numbers\");\n}\n/**\n * Enforce expectations about types of GeoJSON objects for Turf.\n *\n * @name geojsonType\n * @param {GeoJSON} value any GeoJSON object\n * @param {string} type expected GeoJSON type\n * @param {string} name name of calling function\n * @throws {Error} if value is not the expected type.\n */\nexport function geojsonType(value, type, name) {\n    if (!type || !name) {\n        throw new Error(\"type and name required\");\n    }\n    if (!value || value.type !== type) {\n        throw new Error(\"Invalid input to \" +\n            name +\n            \": must be a \" +\n            type +\n            \", given \" +\n            value.type);\n    }\n}\n/**\n * Enforce expectations about types of {@link Feature} inputs for Turf.\n * Internally this uses {@link geojsonType} to judge geometry types.\n *\n * @name featureOf\n * @param {Feature} feature a feature with an expected geometry type\n * @param {string} type expected GeoJSON type\n * @param {string} name name of calling function\n * @throws {Error} error if value is not the expected type.\n */\nexport function featureOf(feature, type, name) {\n    if (!feature) {\n        throw new Error(\"No feature passed\");\n    }\n    if (!name) {\n        throw new Error(\".featureOf() requires a name\");\n    }\n    if (!feature || feature.type !== \"Feature\" || !feature.geometry) {\n        throw new Error(\"Invalid input to \" + name + \", Feature with geometry required\");\n    }\n    if (!feature.geometry || feature.geometry.type !== type) {\n        throw new Error(\"Invalid input to \" +\n            name +\n            \": must be a \" +\n            type +\n            \", given \" +\n            feature.geometry.type);\n    }\n}\n/**\n * Enforce expectations about types of {@link FeatureCollection} inputs for Turf.\n * Internally this uses {@link geojsonType} to judge geometry types.\n *\n * @name collectionOf\n * @param {FeatureCollection} featureCollection a FeatureCollection for which features will be judged\n * @param {string} type expected GeoJSON type\n * @param {string} name name of calling function\n * @throws {Error} if value is not the expected type.\n */\nexport function collectionOf(featureCollection, type, name) {\n    if (!featureCollection) {\n        throw new Error(\"No featureCollection passed\");\n    }\n    if (!name) {\n        throw new Error(\".collectionOf() requires a name\");\n    }\n    if (!featureCollection || featureCollection.type !== \"FeatureCollection\") {\n        throw new Error(\"Invalid input to \" + name + \", FeatureCollection required\");\n    }\n    for (var _i = 0, _a = featureCollection.features; _i < _a.length; _i++) {\n        var feature = _a[_i];\n        if (!feature || feature.type !== \"Feature\" || !feature.geometry) {\n            throw new Error(\"Invalid input to \" + name + \", Feature with geometry required\");\n        }\n        if (!feature.geometry || feature.geometry.type !== type) {\n            throw new Error(\"Invalid input to \" +\n                name +\n                \": must be a \" +\n                type +\n                \", given \" +\n                feature.geometry.type);\n        }\n    }\n}\n/**\n * Get Geometry from Feature or Geometry Object\n *\n * @param {Feature|Geometry} geojson GeoJSON Feature or Geometry Object\n * @returns {Geometry|null} GeoJSON Geometry Object\n * @throws {Error} if geojson is not a Feature or Geometry Object\n * @example\n * var point = {\n *   \"type\": \"Feature\",\n *   \"properties\": {},\n *   \"geometry\": {\n *     \"type\": \"Point\",\n *     \"coordinates\": [110, 40]\n *   }\n * }\n * var geom = turf.getGeom(point)\n * //={\"type\": \"Point\", \"coordinates\": [110, 40]}\n */\nexport function getGeom(geojson) {\n    if (geojson.type === \"Feature\") {\n        return geojson.geometry;\n    }\n    return geojson;\n}\n/**\n * Get GeoJSON object's type, Geometry type is prioritize.\n *\n * @param {GeoJSON} geojson GeoJSON object\n * @param {string} [name=\"geojson\"] name of the variable to display in error message (unused)\n * @returns {string} GeoJSON type\n * @example\n * var point = {\n *   \"type\": \"Feature\",\n *   \"properties\": {},\n *   \"geometry\": {\n *     \"type\": \"Point\",\n *     \"coordinates\": [110, 40]\n *   }\n * }\n * var geom = turf.getType(point)\n * //=\"Point\"\n */\nexport function getType(geojson, _name) {\n    if (geojson.type === \"FeatureCollection\") {\n        return \"FeatureCollection\";\n    }\n    if (geojson.type === \"GeometryCollection\") {\n        return \"GeometryCollection\";\n    }\n    if (geojson.type === \"Feature\" && geojson.geometry !== null) {\n        return geojson.geometry.type;\n    }\n    return geojson.type;\n}\n","import { getCoord } from \"@turf/invariant\";\nimport { radiansToLength, degreesToRadians, } from \"@turf/helpers\";\n//http://en.wikipedia.org/wiki/Haversine_formula\n//http://www.movable-type.co.uk/scripts/latlong.html\n/**\n * Calculates the distance between two {@link Point|points} in degrees, radians, miles, or kilometers.\n * This uses the [Haversine formula](http://en.wikipedia.org/wiki/Haversine_formula) to account for global curvature.\n *\n * @name distance\n * @param {Coord | Point} from origin point or coordinate\n * @param {Coord | Point} to destination point or coordinate\n * @param {Object} [options={}] Optional parameters\n * @param {string} [options.units='kilometers'] can be degrees, radians, miles, or kilometers\n * @returns {number} distance between the two points\n * @example\n * var from = turf.point([-75.343, 39.984]);\n * var to = turf.point([-75.534, 39.123]);\n * var options = {units: 'miles'};\n *\n * var distance = turf.distance(from, to, options);\n *\n * //addToMap\n * var addToMap = [from, to];\n * from.properties.distance = distance;\n * to.properties.distance = distance;\n */\nfunction distance(from, to, options) {\n    if (options === void 0) { options = {}; }\n    var coordinates1 = getCoord(from);\n    var coordinates2 = getCoord(to);\n    var dLat = degreesToRadians(coordinates2[1] - coordinates1[1]);\n    var dLon = degreesToRadians(coordinates2[0] - coordinates1[0]);\n    var lat1 = degreesToRadians(coordinates1[1]);\n    var lat2 = degreesToRadians(coordinates2[1]);\n    var a = Math.pow(Math.sin(dLat / 2), 2) +\n        Math.pow(Math.sin(dLon / 2), 2) * Math.cos(lat1) * Math.cos(lat2);\n    return radiansToLength(2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a)), options.units);\n}\nexport default distance;\n","import { feature, lineString, isObject, point } from '@turf/helpers';\n\n/**\n * Callback for coordEach\n *\n * @callback coordEachCallback\n * @param {Array<number>} currentCoord The current coordinate being processed.\n * @param {number} coordIndex The current index of the coordinate being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n * @param {number} geometryIndex The current index of the Geometry being processed.\n */\n\n/**\n * Iterate over coordinates in any GeoJSON object, similar to Array.forEach()\n *\n * @name coordEach\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentCoord, coordIndex, featureIndex, multiFeatureIndex)\n * @param {boolean} [excludeWrapCoord=false] whether or not to include the final coordinate of LinearRings that wraps the ring in its iteration.\n * @returns {void}\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {\"foo\": \"bar\"}),\n *   turf.point([36, 53], {\"hello\": \"world\"})\n * ]);\n *\n * turf.coordEach(features, function (currentCoord, coordIndex, featureIndex, multiFeatureIndex, geometryIndex) {\n *   //=currentCoord\n *   //=coordIndex\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n * });\n */\nfunction coordEach(geojson, callback, excludeWrapCoord) {\n  // Handles null Geometry -- Skips this GeoJSON\n  if (geojson === null) return;\n  var j,\n    k,\n    l,\n    geometry,\n    stopG,\n    coords,\n    geometryMaybeCollection,\n    wrapShrink = 0,\n    coordIndex = 0,\n    isGeometryCollection,\n    type = geojson.type,\n    isFeatureCollection = type === \"FeatureCollection\",\n    isFeature = type === \"Feature\",\n    stop = isFeatureCollection ? geojson.features.length : 1;\n\n  // This logic may look a little weird. The reason why it is that way\n  // is because it's trying to be fast. GeoJSON supports multiple kinds\n  // of objects at its root: FeatureCollection, Features, Geometries.\n  // This function has the responsibility of handling all of them, and that\n  // means that some of the `for` loops you see below actually just don't apply\n  // to certain inputs. For instance, if you give this just a\n  // Point geometry, then both loops are short-circuited and all we do\n  // is gradually rename the input until it's called 'geometry'.\n  //\n  // This also aims to allocate as few resources as possible: just a\n  // few numbers and booleans, rather than any temporary arrays as would\n  // be required with the normalization approach.\n  for (var featureIndex = 0; featureIndex < stop; featureIndex++) {\n    geometryMaybeCollection = isFeatureCollection\n      ? geojson.features[featureIndex].geometry\n      : isFeature\n      ? geojson.geometry\n      : geojson;\n    isGeometryCollection = geometryMaybeCollection\n      ? geometryMaybeCollection.type === \"GeometryCollection\"\n      : false;\n    stopG = isGeometryCollection\n      ? geometryMaybeCollection.geometries.length\n      : 1;\n\n    for (var geomIndex = 0; geomIndex < stopG; geomIndex++) {\n      var multiFeatureIndex = 0;\n      var geometryIndex = 0;\n      geometry = isGeometryCollection\n        ? geometryMaybeCollection.geometries[geomIndex]\n        : geometryMaybeCollection;\n\n      // Handles null Geometry -- Skips this geometry\n      if (geometry === null) continue;\n      coords = geometry.coordinates;\n      var geomType = geometry.type;\n\n      wrapShrink =\n        excludeWrapCoord &&\n        (geomType === \"Polygon\" || geomType === \"MultiPolygon\")\n          ? 1\n          : 0;\n\n      switch (geomType) {\n        case null:\n          break;\n        case \"Point\":\n          if (\n            callback(\n              coords,\n              coordIndex,\n              featureIndex,\n              multiFeatureIndex,\n              geometryIndex\n            ) === false\n          )\n            return false;\n          coordIndex++;\n          multiFeatureIndex++;\n          break;\n        case \"LineString\":\n        case \"MultiPoint\":\n          for (j = 0; j < coords.length; j++) {\n            if (\n              callback(\n                coords[j],\n                coordIndex,\n                featureIndex,\n                multiFeatureIndex,\n                geometryIndex\n              ) === false\n            )\n              return false;\n            coordIndex++;\n            if (geomType === \"MultiPoint\") multiFeatureIndex++;\n          }\n          if (geomType === \"LineString\") multiFeatureIndex++;\n          break;\n        case \"Polygon\":\n        case \"MultiLineString\":\n          for (j = 0; j < coords.length; j++) {\n            for (k = 0; k < coords[j].length - wrapShrink; k++) {\n              if (\n                callback(\n                  coords[j][k],\n                  coordIndex,\n                  featureIndex,\n                  multiFeatureIndex,\n                  geometryIndex\n                ) === false\n              )\n                return false;\n              coordIndex++;\n            }\n            if (geomType === \"MultiLineString\") multiFeatureIndex++;\n            if (geomType === \"Polygon\") geometryIndex++;\n          }\n          if (geomType === \"Polygon\") multiFeatureIndex++;\n          break;\n        case \"MultiPolygon\":\n          for (j = 0; j < coords.length; j++) {\n            geometryIndex = 0;\n            for (k = 0; k < coords[j].length; k++) {\n              for (l = 0; l < coords[j][k].length - wrapShrink; l++) {\n                if (\n                  callback(\n                    coords[j][k][l],\n                    coordIndex,\n                    featureIndex,\n                    multiFeatureIndex,\n                    geometryIndex\n                  ) === false\n                )\n                  return false;\n                coordIndex++;\n              }\n              geometryIndex++;\n            }\n            multiFeatureIndex++;\n          }\n          break;\n        case \"GeometryCollection\":\n          for (j = 0; j < geometry.geometries.length; j++)\n            if (\n              coordEach(geometry.geometries[j], callback, excludeWrapCoord) ===\n              false\n            )\n              return false;\n          break;\n        default:\n          throw new Error(\"Unknown Geometry Type\");\n      }\n    }\n  }\n}\n\n/**\n * Callback for coordReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback coordReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Array<number>} currentCoord The current coordinate being processed.\n * @param {number} coordIndex The current index of the coordinate being processed.\n * Starts at index 0, if an initialValue is provided, and at index 1 otherwise.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n * @param {number} geometryIndex The current index of the Geometry being processed.\n */\n\n/**\n * Reduce coordinates in any GeoJSON object, similar to Array.reduce()\n *\n * @name coordReduce\n * @param {FeatureCollection|Geometry|Feature} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentCoord, coordIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @param {boolean} [excludeWrapCoord=false] whether or not to include the final coordinate of LinearRings that wraps the ring in its iteration.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {\"foo\": \"bar\"}),\n *   turf.point([36, 53], {\"hello\": \"world\"})\n * ]);\n *\n * turf.coordReduce(features, function (previousValue, currentCoord, coordIndex, featureIndex, multiFeatureIndex, geometryIndex) {\n *   //=previousValue\n *   //=currentCoord\n *   //=coordIndex\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n *   return currentCoord;\n * });\n */\nfunction coordReduce(geojson, callback, initialValue, excludeWrapCoord) {\n  var previousValue = initialValue;\n  coordEach(\n    geojson,\n    function (\n      currentCoord,\n      coordIndex,\n      featureIndex,\n      multiFeatureIndex,\n      geometryIndex\n    ) {\n      if (coordIndex === 0 && initialValue === undefined)\n        previousValue = currentCoord;\n      else\n        previousValue = callback(\n          previousValue,\n          currentCoord,\n          coordIndex,\n          featureIndex,\n          multiFeatureIndex,\n          geometryIndex\n        );\n    },\n    excludeWrapCoord\n  );\n  return previousValue;\n}\n\n/**\n * Callback for propEach\n *\n * @callback propEachCallback\n * @param {Object} currentProperties The current Properties being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n */\n\n/**\n * Iterate over properties in any GeoJSON object, similar to Array.forEach()\n *\n * @name propEach\n * @param {FeatureCollection|Feature} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentProperties, featureIndex)\n * @returns {void}\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.propEach(features, function (currentProperties, featureIndex) {\n *   //=currentProperties\n *   //=featureIndex\n * });\n */\nfunction propEach(geojson, callback) {\n  var i;\n  switch (geojson.type) {\n    case \"FeatureCollection\":\n      for (i = 0; i < geojson.features.length; i++) {\n        if (callback(geojson.features[i].properties, i) === false) break;\n      }\n      break;\n    case \"Feature\":\n      callback(geojson.properties, 0);\n      break;\n  }\n}\n\n/**\n * Callback for propReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback propReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {*} currentProperties The current Properties being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n */\n\n/**\n * Reduce properties in any GeoJSON object into a single value,\n * similar to how Array.reduce works. However, in this case we lazily run\n * the reduction, so an array of all properties is unnecessary.\n *\n * @name propReduce\n * @param {FeatureCollection|Feature} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentProperties, featureIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.propReduce(features, function (previousValue, currentProperties, featureIndex) {\n *   //=previousValue\n *   //=currentProperties\n *   //=featureIndex\n *   return currentProperties\n * });\n */\nfunction propReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  propEach(geojson, function (currentProperties, featureIndex) {\n    if (featureIndex === 0 && initialValue === undefined)\n      previousValue = currentProperties;\n    else\n      previousValue = callback(previousValue, currentProperties, featureIndex);\n  });\n  return previousValue;\n}\n\n/**\n * Callback for featureEach\n *\n * @callback featureEachCallback\n * @param {Feature<any>} currentFeature The current Feature being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n */\n\n/**\n * Iterate over features in any GeoJSON object, similar to\n * Array.forEach.\n *\n * @name featureEach\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentFeature, featureIndex)\n * @returns {void}\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {foo: 'bar'}),\n *   turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.featureEach(features, function (currentFeature, featureIndex) {\n *   //=currentFeature\n *   //=featureIndex\n * });\n */\nfunction featureEach(geojson, callback) {\n  if (geojson.type === \"Feature\") {\n    callback(geojson, 0);\n  } else if (geojson.type === \"FeatureCollection\") {\n    for (var i = 0; i < geojson.features.length; i++) {\n      if (callback(geojson.features[i], i) === false) break;\n    }\n  }\n}\n\n/**\n * Callback for featureReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback featureReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Feature} currentFeature The current Feature being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n */\n\n/**\n * Reduce features in any GeoJSON object, similar to Array.reduce().\n *\n * @name featureReduce\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentFeature, featureIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {\"foo\": \"bar\"}),\n *   turf.point([36, 53], {\"hello\": \"world\"})\n * ]);\n *\n * turf.featureReduce(features, function (previousValue, currentFeature, featureIndex) {\n *   //=previousValue\n *   //=currentFeature\n *   //=featureIndex\n *   return currentFeature\n * });\n */\nfunction featureReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  featureEach(geojson, function (currentFeature, featureIndex) {\n    if (featureIndex === 0 && initialValue === undefined)\n      previousValue = currentFeature;\n    else previousValue = callback(previousValue, currentFeature, featureIndex);\n  });\n  return previousValue;\n}\n\n/**\n * Get all coordinates from any GeoJSON object.\n *\n * @name coordAll\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @returns {Array<Array<number>>} coordinate position array\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {foo: 'bar'}),\n *   turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * var coords = turf.coordAll(features);\n * //= [[26, 37], [36, 53]]\n */\nfunction coordAll(geojson) {\n  var coords = [];\n  coordEach(geojson, function (coord) {\n    coords.push(coord);\n  });\n  return coords;\n}\n\n/**\n * Callback for geomEach\n *\n * @callback geomEachCallback\n * @param {Geometry} currentGeometry The current Geometry being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {Object} featureProperties The current Feature Properties being processed.\n * @param {Array<number>} featureBBox The current Feature BBox being processed.\n * @param {number|string} featureId The current Feature Id being processed.\n */\n\n/**\n * Iterate over each geometry in any GeoJSON object, similar to Array.forEach()\n *\n * @name geomEach\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentGeometry, featureIndex, featureProperties, featureBBox, featureId)\n * @returns {void}\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.geomEach(features, function (currentGeometry, featureIndex, featureProperties, featureBBox, featureId) {\n *   //=currentGeometry\n *   //=featureIndex\n *   //=featureProperties\n *   //=featureBBox\n *   //=featureId\n * });\n */\nfunction geomEach(geojson, callback) {\n  var i,\n    j,\n    g,\n    geometry,\n    stopG,\n    geometryMaybeCollection,\n    isGeometryCollection,\n    featureProperties,\n    featureBBox,\n    featureId,\n    featureIndex = 0,\n    isFeatureCollection = geojson.type === \"FeatureCollection\",\n    isFeature = geojson.type === \"Feature\",\n    stop = isFeatureCollection ? geojson.features.length : 1;\n\n  // This logic may look a little weird. The reason why it is that way\n  // is because it's trying to be fast. GeoJSON supports multiple kinds\n  // of objects at its root: FeatureCollection, Features, Geometries.\n  // This function has the responsibility of handling all of them, and that\n  // means that some of the `for` loops you see below actually just don't apply\n  // to certain inputs. For instance, if you give this just a\n  // Point geometry, then both loops are short-circuited and all we do\n  // is gradually rename the input until it's called 'geometry'.\n  //\n  // This also aims to allocate as few resources as possible: just a\n  // few numbers and booleans, rather than any temporary arrays as would\n  // be required with the normalization approach.\n  for (i = 0; i < stop; i++) {\n    geometryMaybeCollection = isFeatureCollection\n      ? geojson.features[i].geometry\n      : isFeature\n      ? geojson.geometry\n      : geojson;\n    featureProperties = isFeatureCollection\n      ? geojson.features[i].properties\n      : isFeature\n      ? geojson.properties\n      : {};\n    featureBBox = isFeatureCollection\n      ? geojson.features[i].bbox\n      : isFeature\n      ? geojson.bbox\n      : undefined;\n    featureId = isFeatureCollection\n      ? geojson.features[i].id\n      : isFeature\n      ? geojson.id\n      : undefined;\n    isGeometryCollection = geometryMaybeCollection\n      ? geometryMaybeCollection.type === \"GeometryCollection\"\n      : false;\n    stopG = isGeometryCollection\n      ? geometryMaybeCollection.geometries.length\n      : 1;\n\n    for (g = 0; g < stopG; g++) {\n      geometry = isGeometryCollection\n        ? geometryMaybeCollection.geometries[g]\n        : geometryMaybeCollection;\n\n      // Handle null Geometry\n      if (geometry === null) {\n        if (\n          callback(\n            null,\n            featureIndex,\n            featureProperties,\n            featureBBox,\n            featureId\n          ) === false\n        )\n          return false;\n        continue;\n      }\n      switch (geometry.type) {\n        case \"Point\":\n        case \"LineString\":\n        case \"MultiPoint\":\n        case \"Polygon\":\n        case \"MultiLineString\":\n        case \"MultiPolygon\": {\n          if (\n            callback(\n              geometry,\n              featureIndex,\n              featureProperties,\n              featureBBox,\n              featureId\n            ) === false\n          )\n            return false;\n          break;\n        }\n        case \"GeometryCollection\": {\n          for (j = 0; j < geometry.geometries.length; j++) {\n            if (\n              callback(\n                geometry.geometries[j],\n                featureIndex,\n                featureProperties,\n                featureBBox,\n                featureId\n              ) === false\n            )\n              return false;\n          }\n          break;\n        }\n        default:\n          throw new Error(\"Unknown Geometry Type\");\n      }\n    }\n    // Only increase `featureIndex` per each feature\n    featureIndex++;\n  }\n}\n\n/**\n * Callback for geomReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback geomReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Geometry} currentGeometry The current Geometry being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {Object} featureProperties The current Feature Properties being processed.\n * @param {Array<number>} featureBBox The current Feature BBox being processed.\n * @param {number|string} featureId The current Feature Id being processed.\n */\n\n/**\n * Reduce geometry in any GeoJSON object, similar to Array.reduce().\n *\n * @name geomReduce\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentGeometry, featureIndex, featureProperties, featureBBox, featureId)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.geomReduce(features, function (previousValue, currentGeometry, featureIndex, featureProperties, featureBBox, featureId) {\n *   //=previousValue\n *   //=currentGeometry\n *   //=featureIndex\n *   //=featureProperties\n *   //=featureBBox\n *   //=featureId\n *   return currentGeometry\n * });\n */\nfunction geomReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  geomEach(\n    geojson,\n    function (\n      currentGeometry,\n      featureIndex,\n      featureProperties,\n      featureBBox,\n      featureId\n    ) {\n      if (featureIndex === 0 && initialValue === undefined)\n        previousValue = currentGeometry;\n      else\n        previousValue = callback(\n          previousValue,\n          currentGeometry,\n          featureIndex,\n          featureProperties,\n          featureBBox,\n          featureId\n        );\n    }\n  );\n  return previousValue;\n}\n\n/**\n * Callback for flattenEach\n *\n * @callback flattenEachCallback\n * @param {Feature} currentFeature The current flattened feature being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n */\n\n/**\n * Iterate over flattened features in any GeoJSON object, similar to\n * Array.forEach.\n *\n * @name flattenEach\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentFeature, featureIndex, multiFeatureIndex)\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.multiPoint([[40, 30], [36, 53]], {hello: 'world'})\n * ]);\n *\n * turf.flattenEach(features, function (currentFeature, featureIndex, multiFeatureIndex) {\n *   //=currentFeature\n *   //=featureIndex\n *   //=multiFeatureIndex\n * });\n */\nfunction flattenEach(geojson, callback) {\n  geomEach(geojson, function (geometry, featureIndex, properties, bbox, id) {\n    // Callback for single geometry\n    var type = geometry === null ? null : geometry.type;\n    switch (type) {\n      case null:\n      case \"Point\":\n      case \"LineString\":\n      case \"Polygon\":\n        if (\n          callback(\n            feature(geometry, properties, { bbox: bbox, id: id }),\n            featureIndex,\n            0\n          ) === false\n        )\n          return false;\n        return;\n    }\n\n    var geomType;\n\n    // Callback for multi-geometry\n    switch (type) {\n      case \"MultiPoint\":\n        geomType = \"Point\";\n        break;\n      case \"MultiLineString\":\n        geomType = \"LineString\";\n        break;\n      case \"MultiPolygon\":\n        geomType = \"Polygon\";\n        break;\n    }\n\n    for (\n      var multiFeatureIndex = 0;\n      multiFeatureIndex < geometry.coordinates.length;\n      multiFeatureIndex++\n    ) {\n      var coordinate = geometry.coordinates[multiFeatureIndex];\n      var geom = {\n        type: geomType,\n        coordinates: coordinate,\n      };\n      if (\n        callback(feature(geom, properties), featureIndex, multiFeatureIndex) ===\n        false\n      )\n        return false;\n    }\n  });\n}\n\n/**\n * Callback for flattenReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback flattenReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Feature} currentFeature The current Feature being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n */\n\n/**\n * Reduce flattened features in any GeoJSON object, similar to Array.reduce().\n *\n * @name flattenReduce\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentFeature, featureIndex, multiFeatureIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.multiPoint([[40, 30], [36, 53]], {hello: 'world'})\n * ]);\n *\n * turf.flattenReduce(features, function (previousValue, currentFeature, featureIndex, multiFeatureIndex) {\n *   //=previousValue\n *   //=currentFeature\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   return currentFeature\n * });\n */\nfunction flattenReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  flattenEach(\n    geojson,\n    function (currentFeature, featureIndex, multiFeatureIndex) {\n      if (\n        featureIndex === 0 &&\n        multiFeatureIndex === 0 &&\n        initialValue === undefined\n      )\n        previousValue = currentFeature;\n      else\n        previousValue = callback(\n          previousValue,\n          currentFeature,\n          featureIndex,\n          multiFeatureIndex\n        );\n    }\n  );\n  return previousValue;\n}\n\n/**\n * Callback for segmentEach\n *\n * @callback segmentEachCallback\n * @param {Feature<LineString>} currentSegment The current Segment being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n * @param {number} geometryIndex The current index of the Geometry being processed.\n * @param {number} segmentIndex The current index of the Segment being processed.\n * @returns {void}\n */\n\n/**\n * Iterate over 2-vertex line segment in any GeoJSON object, similar to Array.forEach()\n * (Multi)Point geometries do not contain segments therefore they are ignored during this operation.\n *\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON\n * @param {Function} callback a method that takes (currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex)\n * @returns {void}\n * @example\n * var polygon = turf.polygon([[[-50, 5], [-40, -10], [-50, -10], [-40, 5], [-50, 5]]]);\n *\n * // Iterate over GeoJSON by 2-vertex segments\n * turf.segmentEach(polygon, function (currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex) {\n *   //=currentSegment\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n *   //=segmentIndex\n * });\n *\n * // Calculate the total number of segments\n * var total = 0;\n * turf.segmentEach(polygon, function () {\n *     total++;\n * });\n */\nfunction segmentEach(geojson, callback) {\n  flattenEach(geojson, function (feature, featureIndex, multiFeatureIndex) {\n    var segmentIndex = 0;\n\n    // Exclude null Geometries\n    if (!feature.geometry) return;\n    // (Multi)Point geometries do not contain segments therefore they are ignored during this operation.\n    var type = feature.geometry.type;\n    if (type === \"Point\" || type === \"MultiPoint\") return;\n\n    // Generate 2-vertex line segments\n    var previousCoords;\n    var previousFeatureIndex = 0;\n    var previousMultiIndex = 0;\n    var prevGeomIndex = 0;\n    if (\n      coordEach(\n        feature,\n        function (\n          currentCoord,\n          coordIndex,\n          featureIndexCoord,\n          multiPartIndexCoord,\n          geometryIndex\n        ) {\n          // Simulating a meta.coordReduce() since `reduce` operations cannot be stopped by returning `false`\n          if (\n            previousCoords === undefined ||\n            featureIndex > previousFeatureIndex ||\n            multiPartIndexCoord > previousMultiIndex ||\n            geometryIndex > prevGeomIndex\n          ) {\n            previousCoords = currentCoord;\n            previousFeatureIndex = featureIndex;\n            previousMultiIndex = multiPartIndexCoord;\n            prevGeomIndex = geometryIndex;\n            segmentIndex = 0;\n            return;\n          }\n          var currentSegment = lineString(\n            [previousCoords, currentCoord],\n            feature.properties\n          );\n          if (\n            callback(\n              currentSegment,\n              featureIndex,\n              multiFeatureIndex,\n              geometryIndex,\n              segmentIndex\n            ) === false\n          )\n            return false;\n          segmentIndex++;\n          previousCoords = currentCoord;\n        }\n      ) === false\n    )\n      return false;\n  });\n}\n\n/**\n * Callback for segmentReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback segmentReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Feature<LineString>} currentSegment The current Segment being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n * @param {number} geometryIndex The current index of the Geometry being processed.\n * @param {number} segmentIndex The current index of the Segment being processed.\n */\n\n/**\n * Reduce 2-vertex line segment in any GeoJSON object, similar to Array.reduce()\n * (Multi)Point geometries do not contain segments therefore they are ignored during this operation.\n *\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON\n * @param {Function} callback a method that takes (previousValue, currentSegment, currentIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {void}\n * @example\n * var polygon = turf.polygon([[[-50, 5], [-40, -10], [-50, -10], [-40, 5], [-50, 5]]]);\n *\n * // Iterate over GeoJSON by 2-vertex segments\n * turf.segmentReduce(polygon, function (previousSegment, currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex) {\n *   //= previousSegment\n *   //= currentSegment\n *   //= featureIndex\n *   //= multiFeatureIndex\n *   //= geometryIndex\n *   //= segmentIndex\n *   return currentSegment\n * });\n *\n * // Calculate the total number of segments\n * var initialValue = 0\n * var total = turf.segmentReduce(polygon, function (previousValue) {\n *     previousValue++;\n *     return previousValue;\n * }, initialValue);\n */\nfunction segmentReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  var started = false;\n  segmentEach(\n    geojson,\n    function (\n      currentSegment,\n      featureIndex,\n      multiFeatureIndex,\n      geometryIndex,\n      segmentIndex\n    ) {\n      if (started === false && initialValue === undefined)\n        previousValue = currentSegment;\n      else\n        previousValue = callback(\n          previousValue,\n          currentSegment,\n          featureIndex,\n          multiFeatureIndex,\n          geometryIndex,\n          segmentIndex\n        );\n      started = true;\n    }\n  );\n  return previousValue;\n}\n\n/**\n * Callback for lineEach\n *\n * @callback lineEachCallback\n * @param {Feature<LineString>} currentLine The current LineString|LinearRing being processed\n * @param {number} featureIndex The current index of the Feature being processed\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed\n * @param {number} geometryIndex The current index of the Geometry being processed\n */\n\n/**\n * Iterate over line or ring coordinates in LineString, Polygon, MultiLineString, MultiPolygon Features or Geometries,\n * similar to Array.forEach.\n *\n * @name lineEach\n * @param {Geometry|Feature<LineString|Polygon|MultiLineString|MultiPolygon>} geojson object\n * @param {Function} callback a method that takes (currentLine, featureIndex, multiFeatureIndex, geometryIndex)\n * @example\n * var multiLine = turf.multiLineString([\n *   [[26, 37], [35, 45]],\n *   [[36, 53], [38, 50], [41, 55]]\n * ]);\n *\n * turf.lineEach(multiLine, function (currentLine, featureIndex, multiFeatureIndex, geometryIndex) {\n *   //=currentLine\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n * });\n */\nfunction lineEach(geojson, callback) {\n  // validation\n  if (!geojson) throw new Error(\"geojson is required\");\n\n  flattenEach(geojson, function (feature, featureIndex, multiFeatureIndex) {\n    if (feature.geometry === null) return;\n    var type = feature.geometry.type;\n    var coords = feature.geometry.coordinates;\n    switch (type) {\n      case \"LineString\":\n        if (callback(feature, featureIndex, multiFeatureIndex, 0, 0) === false)\n          return false;\n        break;\n      case \"Polygon\":\n        for (\n          var geometryIndex = 0;\n          geometryIndex < coords.length;\n          geometryIndex++\n        ) {\n          if (\n            callback(\n              lineString(coords[geometryIndex], feature.properties),\n              featureIndex,\n              multiFeatureIndex,\n              geometryIndex\n            ) === false\n          )\n            return false;\n        }\n        break;\n    }\n  });\n}\n\n/**\n * Callback for lineReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback lineReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Feature<LineString>} currentLine The current LineString|LinearRing being processed.\n * @param {number} featureIndex The current index of the Feature being processed\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed\n * @param {number} geometryIndex The current index of the Geometry being processed\n */\n\n/**\n * Reduce features in any GeoJSON object, similar to Array.reduce().\n *\n * @name lineReduce\n * @param {Geometry|Feature<LineString|Polygon|MultiLineString|MultiPolygon>} geojson object\n * @param {Function} callback a method that takes (previousValue, currentLine, featureIndex, multiFeatureIndex, geometryIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var multiPoly = turf.multiPolygon([\n *   turf.polygon([[[12,48],[2,41],[24,38],[12,48]], [[9,44],[13,41],[13,45],[9,44]]]),\n *   turf.polygon([[[5, 5], [0, 0], [2, 2], [4, 4], [5, 5]]])\n * ]);\n *\n * turf.lineReduce(multiPoly, function (previousValue, currentLine, featureIndex, multiFeatureIndex, geometryIndex) {\n *   //=previousValue\n *   //=currentLine\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n *   return currentLine\n * });\n */\nfunction lineReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  lineEach(\n    geojson,\n    function (currentLine, featureIndex, multiFeatureIndex, geometryIndex) {\n      if (featureIndex === 0 && initialValue === undefined)\n        previousValue = currentLine;\n      else\n        previousValue = callback(\n          previousValue,\n          currentLine,\n          featureIndex,\n          multiFeatureIndex,\n          geometryIndex\n        );\n    }\n  );\n  return previousValue;\n}\n\n/**\n * Finds a particular 2-vertex LineString Segment from a GeoJSON using `@turf/meta` indexes.\n *\n * Negative indexes are permitted.\n * Point & MultiPoint will always return null.\n *\n * @param {FeatureCollection|Feature|Geometry} geojson Any GeoJSON Feature or Geometry\n * @param {Object} [options={}] Optional parameters\n * @param {number} [options.featureIndex=0] Feature Index\n * @param {number} [options.multiFeatureIndex=0] Multi-Feature Index\n * @param {number} [options.geometryIndex=0] Geometry Index\n * @param {number} [options.segmentIndex=0] Segment Index\n * @param {Object} [options.properties={}] Translate Properties to output LineString\n * @param {BBox} [options.bbox={}] Translate BBox to output LineString\n * @param {number|string} [options.id={}] Translate Id to output LineString\n * @returns {Feature<LineString>} 2-vertex GeoJSON Feature LineString\n * @example\n * var multiLine = turf.multiLineString([\n *     [[10, 10], [50, 30], [30, 40]],\n *     [[-10, -10], [-50, -30], [-30, -40]]\n * ]);\n *\n * // First Segment (defaults are 0)\n * turf.findSegment(multiLine);\n * // => Feature<LineString<[[10, 10], [50, 30]]>>\n *\n * // First Segment of 2nd Multi Feature\n * turf.findSegment(multiLine, {multiFeatureIndex: 1});\n * // => Feature<LineString<[[-10, -10], [-50, -30]]>>\n *\n * // Last Segment of Last Multi Feature\n * turf.findSegment(multiLine, {multiFeatureIndex: -1, segmentIndex: -1});\n * // => Feature<LineString<[[-50, -30], [-30, -40]]>>\n */\nfunction findSegment(geojson, options) {\n  // Optional Parameters\n  options = options || {};\n  if (!isObject(options)) throw new Error(\"options is invalid\");\n  var featureIndex = options.featureIndex || 0;\n  var multiFeatureIndex = options.multiFeatureIndex || 0;\n  var geometryIndex = options.geometryIndex || 0;\n  var segmentIndex = options.segmentIndex || 0;\n\n  // Find FeatureIndex\n  var properties = options.properties;\n  var geometry;\n\n  switch (geojson.type) {\n    case \"FeatureCollection\":\n      if (featureIndex < 0)\n        featureIndex = geojson.features.length + featureIndex;\n      properties = properties || geojson.features[featureIndex].properties;\n      geometry = geojson.features[featureIndex].geometry;\n      break;\n    case \"Feature\":\n      properties = properties || geojson.properties;\n      geometry = geojson.geometry;\n      break;\n    case \"Point\":\n    case \"MultiPoint\":\n      return null;\n    case \"LineString\":\n    case \"Polygon\":\n    case \"MultiLineString\":\n    case \"MultiPolygon\":\n      geometry = geojson;\n      break;\n    default:\n      throw new Error(\"geojson is invalid\");\n  }\n\n  // Find SegmentIndex\n  if (geometry === null) return null;\n  var coords = geometry.coordinates;\n  switch (geometry.type) {\n    case \"Point\":\n    case \"MultiPoint\":\n      return null;\n    case \"LineString\":\n      if (segmentIndex < 0) segmentIndex = coords.length + segmentIndex - 1;\n      return lineString(\n        [coords[segmentIndex], coords[segmentIndex + 1]],\n        properties,\n        options\n      );\n    case \"Polygon\":\n      if (geometryIndex < 0) geometryIndex = coords.length + geometryIndex;\n      if (segmentIndex < 0)\n        segmentIndex = coords[geometryIndex].length + segmentIndex - 1;\n      return lineString(\n        [\n          coords[geometryIndex][segmentIndex],\n          coords[geometryIndex][segmentIndex + 1],\n        ],\n        properties,\n        options\n      );\n    case \"MultiLineString\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (segmentIndex < 0)\n        segmentIndex = coords[multiFeatureIndex].length + segmentIndex - 1;\n      return lineString(\n        [\n          coords[multiFeatureIndex][segmentIndex],\n          coords[multiFeatureIndex][segmentIndex + 1],\n        ],\n        properties,\n        options\n      );\n    case \"MultiPolygon\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (geometryIndex < 0)\n        geometryIndex = coords[multiFeatureIndex].length + geometryIndex;\n      if (segmentIndex < 0)\n        segmentIndex =\n          coords[multiFeatureIndex][geometryIndex].length - segmentIndex - 1;\n      return lineString(\n        [\n          coords[multiFeatureIndex][geometryIndex][segmentIndex],\n          coords[multiFeatureIndex][geometryIndex][segmentIndex + 1],\n        ],\n        properties,\n        options\n      );\n  }\n  throw new Error(\"geojson is invalid\");\n}\n\n/**\n * Finds a particular Point from a GeoJSON using `@turf/meta` indexes.\n *\n * Negative indexes are permitted.\n *\n * @param {FeatureCollection|Feature|Geometry} geojson Any GeoJSON Feature or Geometry\n * @param {Object} [options={}] Optional parameters\n * @param {number} [options.featureIndex=0] Feature Index\n * @param {number} [options.multiFeatureIndex=0] Multi-Feature Index\n * @param {number} [options.geometryIndex=0] Geometry Index\n * @param {number} [options.coordIndex=0] Coord Index\n * @param {Object} [options.properties={}] Translate Properties to output Point\n * @param {BBox} [options.bbox={}] Translate BBox to output Point\n * @param {number|string} [options.id={}] Translate Id to output Point\n * @returns {Feature<Point>} 2-vertex GeoJSON Feature Point\n * @example\n * var multiLine = turf.multiLineString([\n *     [[10, 10], [50, 30], [30, 40]],\n *     [[-10, -10], [-50, -30], [-30, -40]]\n * ]);\n *\n * // First Segment (defaults are 0)\n * turf.findPoint(multiLine);\n * // => Feature<Point<[10, 10]>>\n *\n * // First Segment of the 2nd Multi-Feature\n * turf.findPoint(multiLine, {multiFeatureIndex: 1});\n * // => Feature<Point<[-10, -10]>>\n *\n * // Last Segment of last Multi-Feature\n * turf.findPoint(multiLine, {multiFeatureIndex: -1, coordIndex: -1});\n * // => Feature<Point<[-30, -40]>>\n */\nfunction findPoint(geojson, options) {\n  // Optional Parameters\n  options = options || {};\n  if (!isObject(options)) throw new Error(\"options is invalid\");\n  var featureIndex = options.featureIndex || 0;\n  var multiFeatureIndex = options.multiFeatureIndex || 0;\n  var geometryIndex = options.geometryIndex || 0;\n  var coordIndex = options.coordIndex || 0;\n\n  // Find FeatureIndex\n  var properties = options.properties;\n  var geometry;\n\n  switch (geojson.type) {\n    case \"FeatureCollection\":\n      if (featureIndex < 0)\n        featureIndex = geojson.features.length + featureIndex;\n      properties = properties || geojson.features[featureIndex].properties;\n      geometry = geojson.features[featureIndex].geometry;\n      break;\n    case \"Feature\":\n      properties = properties || geojson.properties;\n      geometry = geojson.geometry;\n      break;\n    case \"Point\":\n    case \"MultiPoint\":\n      return null;\n    case \"LineString\":\n    case \"Polygon\":\n    case \"MultiLineString\":\n    case \"MultiPolygon\":\n      geometry = geojson;\n      break;\n    default:\n      throw new Error(\"geojson is invalid\");\n  }\n\n  // Find Coord Index\n  if (geometry === null) return null;\n  var coords = geometry.coordinates;\n  switch (geometry.type) {\n    case \"Point\":\n      return point(coords, properties, options);\n    case \"MultiPoint\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      return point(coords[multiFeatureIndex], properties, options);\n    case \"LineString\":\n      if (coordIndex < 0) coordIndex = coords.length + coordIndex;\n      return point(coords[coordIndex], properties, options);\n    case \"Polygon\":\n      if (geometryIndex < 0) geometryIndex = coords.length + geometryIndex;\n      if (coordIndex < 0)\n        coordIndex = coords[geometryIndex].length + coordIndex;\n      return point(coords[geometryIndex][coordIndex], properties, options);\n    case \"MultiLineString\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (coordIndex < 0)\n        coordIndex = coords[multiFeatureIndex].length + coordIndex;\n      return point(coords[multiFeatureIndex][coordIndex], properties, options);\n    case \"MultiPolygon\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (geometryIndex < 0)\n        geometryIndex = coords[multiFeatureIndex].length + geometryIndex;\n      if (coordIndex < 0)\n        coordIndex =\n          coords[multiFeatureIndex][geometryIndex].length - coordIndex;\n      return point(\n        coords[multiFeatureIndex][geometryIndex][coordIndex],\n        properties,\n        options\n      );\n  }\n  throw new Error(\"geojson is invalid\");\n}\n\nexport { coordAll, coordEach, coordReduce, featureEach, featureReduce, findPoint, findSegment, flattenEach, flattenReduce, geomEach, geomReduce, lineEach, lineReduce, propEach, propReduce, segmentEach, segmentReduce };\n","import distance from \"@turf/distance\";\nimport { segmentReduce } from \"@turf/meta\";\n/**\n * Takes a {@link GeoJSON} and measures its length in the specified units, {@link (Multi)Point}'s distance are ignored.\n *\n * @name length\n * @param {Feature<LineString|MultiLineString>} geojson GeoJSON to measure\n * @param {Object} [options={}] Optional parameters\n * @param {string} [options.units=kilometers] can be degrees, radians, miles, or kilometers\n * @returns {number} length of GeoJSON\n * @example\n * var line = turf.lineString([[115, -32], [131, -22], [143, -25], [150, -34]]);\n * var length = turf.length(line, {units: 'miles'});\n *\n * //addToMap\n * var addToMap = [line];\n * line.properties.distance = length;\n */\nexport default function length(geojson, options) {\n    if (options === void 0) { options = {}; }\n    // Calculate distance from 2-vertex line segments\n    return segmentReduce(geojson, function (previousValue, segment) {\n        var coords = segment.geometry.coordinates;\n        return previousValue + distance(coords[0], coords[1], options);\n    }, 0);\n}\n","import { el } from 'redom'\r\nimport './distancemeasure.css'\r\nimport length from '@turf/length'\r\n\r\nclass DistanceMeasure implements maplibregl.IControl {\r\n    _container: HTMLElement\r\n    _distanceButton: HTMLButtonElement\r\n    _map?: maplibregl.Map\r\n    _distanceContainer?: HTMLElement\r\n    _touchAllowance: number\r\n    _measuring: boolean = false\r\n    _geojson: GeoJSON.FeatureCollection\r\n    _linestring: GeoJSON.Feature<GeoJSON.LineString>\r\n\r\n    constructor() {\r\n        // Adjust this to allow removal of points on mobile devices\r\n        this._touchAllowance = 20\r\n\r\n        this._container = el('div', { class: 'maplibregl-ctrl maplibregl-ctrl-group distance-switch' })\r\n        this._distanceButton = el('button', {\r\n            type: 'button',\r\n            'aria-label': 'DistanceMeasure',\r\n            'aria-pressed': 'false',\r\n            title: 'Measure distance',\r\n        })\r\n        this._geojson = {\r\n            type: 'FeatureCollection',\r\n            features: [],\r\n        }\r\n        this._linestring = {\r\n            type: 'Feature',\r\n            geometry: {\r\n                type: 'LineString',\r\n                coordinates: [],\r\n            },\r\n            properties: {},\r\n        }\r\n    }\r\n\r\n    onAdd(map: maplibregl.Map) {\r\n        this._map = map\r\n\r\n        document.addEventListener('keyup', (e) => {\r\n            if (e.key === 'Escape' && this._measuring) {\r\n                this._removeMeasuring()\r\n            }\r\n        })\r\n\r\n        this._distanceContainer = document.getElementById('distance')!\r\n\r\n        this._container.appendChild(this._distanceButton)\r\n        this._distanceButton.addEventListener('click', this._onClickDistanceMeasure.bind(this))\r\n        this._map.on('click', (e) => this._measure(e))\r\n        return this._container\r\n    }\r\n\r\n    onRemove() {\r\n        this._container.parentNode.removeChild(this._container)\r\n        this._map = undefined\r\n    }\r\n\r\n    _onClickDistanceMeasure() {\r\n        if (this._measuring) {\r\n            this._removeMeasuring()\r\n        } else {\r\n            this._setupMeasuring()\r\n        }\r\n    }\r\n\r\n    _setupMeasuring() {\r\n        if (!this._map || this._measuring == true) return\r\n        this._container.classList.add('measuring')\r\n        this._measuring = true\r\n        this._map.getCanvas().style.cursor = 'crosshair'\r\n\r\n        this._map.addSource('geojson', {\r\n            type: 'geojson',\r\n            data: this._geojson,\r\n        })\r\n\r\n        // Add styles to the map\r\n        this._map.addLayer({\r\n            id: 'measure-points',\r\n            type: 'circle',\r\n            source: 'geojson',\r\n            paint: {\r\n                'circle-radius': 5,\r\n                'circle-color': '#000',\r\n            },\r\n            filter: ['in', '$type', 'Point'],\r\n        })\r\n\r\n        this._map.addLayer({\r\n            id: 'measure-lines',\r\n            type: 'line',\r\n            source: 'geojson',\r\n            layout: {\r\n                'line-cap': 'round',\r\n                'line-join': 'round',\r\n            },\r\n            paint: {\r\n                'line-color': '#000',\r\n                'line-width': 2.5,\r\n            },\r\n            filter: ['in', '$type', 'LineString'],\r\n        })\r\n    }\r\n\r\n    _removeMeasuring() {\r\n        if (!this._map || this._measuring == false) return\r\n        this._measuring = false\r\n        this._container.classList.remove('measuring')\r\n        this._map.getCanvas().style.cursor = ''\r\n        this._map.removeLayer('measure-points')\r\n        this._map.removeLayer('measure-lines')\r\n        this._map.removeSource('geojson')\r\n        this._distanceContainer.innerHTML = ''\r\n        this._geojson.features = []\r\n    }\r\n\r\n    _measure(e: maplibregl.MapMouseEvent) {\r\n        if (!this._measuring || !this._map) return\r\n        const bbox = [\r\n            [e.point.x - this._touchAllowance, e.point.y - this._touchAllowance],\r\n            [e.point.x + this._touchAllowance, e.point.y + this._touchAllowance],\r\n        ]\r\n        var features = this._map.queryRenderedFeatures(bbox, { layers: ['measure-points'] })\r\n\r\n        // Remove the linestring from the group\r\n        // So we can redraw it based on the points collection\r\n        if (this._geojson.features.length > 1) this._geojson.features.pop()\r\n\r\n        // Clear the Distance container to populate it with a new value\r\n        this._distanceContainer.innerHTML = ''\r\n\r\n        // If a feature was clicked, remove it from the map\r\n        if (features.length) {\r\n            var id = features[0].properties.id\r\n            this._geojson.features = this._geojson.features.filter(function (point) {\r\n                return point.properties.id !== id\r\n            })\r\n        } else {\r\n            const point = {\r\n                type: 'Feature',\r\n                geometry: {\r\n                    type: 'Point',\r\n                    coordinates: [e.lngLat.lng, e.lngLat.lat],\r\n                },\r\n                properties: {\r\n                    id: String(new Date().getTime()),\r\n                },\r\n            }\r\n\r\n            this._geojson.features.push(point)\r\n        }\r\n\r\n        if (this._geojson.features.length > 1) {\r\n            this._linestring.geometry.coordinates = this._geojson.features.map(function (point) {\r\n                return point.geometry.coordinates\r\n            })\r\n\r\n            this._geojson.features.push(this._linestring)\r\n\r\n            // Populate the distanceContainer with total distance\r\n            const value = document.createElement('pre')\r\n            value.textContent = 'Total distance: ' + (length(this._linestring) * 1000).toLocaleString() + 'm'\r\n            this._distanceContainer.appendChild(value)\r\n        }\r\n\r\n        this._map.getSource('geojson').setData(this._geojson)\r\n    }\r\n}\r\n\r\nexport { DistanceMeasure as default }\r\n","import './contextmenu.css'\r\nimport { MapMouseEvent } from 'maplibre-gl'\r\nimport { RedomComponent, list, List, el, mount } from 'redom'\r\n\r\ntype ContextMenuCallback = (e: MouseEvent, location: maplibregl.LngLat) => void\r\ntype EnabledCallback = (location: maplibregl.LngLat) => boolean\r\n\r\nclass ContextMenu {\r\n    map: maplibregl.Map\r\n    _menu: HTMLElement\r\n    _menuList: List\r\n    coords: maplibregl.LngLat | null = null\r\n    items: Array<any> = []\r\n\r\n    constructor(map: maplibregl.Map) {\r\n        this.map = map\r\n\r\n        this._menuList = list('ul', ContextMenuItem, 'text')\r\n        this._menu = el('div', this._menuList, { class: 'contextMenu' })\r\n        mount(this.map.getContainer(), this._menu)\r\n\r\n        map.on('contextmenu', (e: MapMouseEvent) => {\r\n            this._menuList.update(this.items, this)\r\n            this._menu.style.top = e.point.y + 'px'\r\n            this._menu.style.left = e.point.x + 'px'\r\n            this._menu.style.display = 'block'\r\n            this.coords = e.lngLat\r\n        })\r\n\r\n        map.on('click', () => {\r\n            this._menu.style.display = 'none'\r\n            this.coords = null\r\n        })\r\n    }\r\n\r\n    addItem(text: string, onClick: ContextMenuCallback, isEnabled?: EnabledCallback) {\r\n        this.items.push({\r\n            text: text,\r\n            callback: onClick,\r\n            isEnabled: isEnabled,\r\n        })\r\n    }\r\n}\r\n\r\nclass ContextMenuItem implements RedomComponent {\r\n    el: HTMLElement\r\n\r\n    constructor() {\r\n        this.el = el('li')\r\n    }\r\n\r\n    update(data: any, _index: number, _items: any, context?: any): void {\r\n        this.el.innerText = data.text\r\n\r\n        const enabled = !data.isEnabled || data.isEnabled(context.coords)\r\n        this.el.classList.toggle('disabled', !enabled)\r\n\r\n        if (enabled) {\r\n            this.el.onclick = (e: MouseEvent) => {\r\n                if (!context.coords) return\r\n                context._menu.style.display = 'none'\r\n                data.callback(e, context.coords)\r\n            }\r\n        } else {\r\n            this.el.onclick = null\r\n        }\r\n    }\r\n}\r\n\r\nexport default ContextMenu\r\n","import { el, setChildren, mount, RedomComponent } from 'redom'\r\nimport { Village } from './index.ts'\r\n\r\nclass VillageSelector implements RedomComponent {\r\n    el: HTMLElement\r\n    onSelected: any\r\n    selectedVillage?: number\r\n    villages: Village[]\r\n\r\n    constructor(villages: Village[], selected?: number) {\r\n        this.villages = villages\r\n\r\n        if (!selected) {\r\n            selected = villages[0].id\r\n        }\r\n\r\n        if (villages.length == 1) {\r\n            this.el = el('div', villages[0].name)\r\n            this.selectedVillage = villages[0].id\r\n            return\r\n        }\r\n\r\n        this.el = el('select', { name: 'village' })\r\n\r\n        villages.forEach((village: Village) => {\r\n            const option = el('option', village.name, { value: village.id })\r\n            if (village.id == selected) {\r\n                option.selected = true\r\n                this.selectedVillage = village.id\r\n            }\r\n            mount(this.el, option)\r\n        })\r\n\r\n        this.el.onchange = () => {\r\n            this.selectedVillage = parseInt((this.el as HTMLSelectElement).value)\r\n            if (this.onSelected) {\r\n                this.onSelected(this.getSelected())\r\n            }\r\n        }\r\n    }\r\n\r\n    getSelected(): Village | undefined {\r\n        return this.villages.find((village: Village) => village.id == this.selectedVillage)\r\n    }\r\n}\r\n\r\nexport class PlaceVillageDialog implements RedomComponent {\r\n    map: maplibregl.Map\r\n    onClose?: any\r\n    onSubmit?: any\r\n    onDelete?: any\r\n    village_selector?: VillageSelector\r\n    el: HTMLElement\r\n    location_selector?: LocationSelector\r\n\r\n    constructor(map: maplibregl.Map, villages: Village[]) {\r\n        this.map = map\r\n        this.el = el('.villages-create')\r\n        this.create(villages)\r\n    }\r\n\r\n    create(villages: object[]) {\r\n        const close_button = el('.villages-close')\r\n        close_button.onclick = () => {\r\n            if (this.onClose) {\r\n                this.onClose()\r\n            }\r\n        }\r\n\r\n        const submit_button = el('button', 'Place Village', { type: 'submit', disabled: true })\r\n\r\n        submit_button.onclick = (e) => {\r\n            if (this.onSubmit) {\r\n                this.onSubmit(this.getData())\r\n            }\r\n            e.preventDefault()\r\n        }\r\n\r\n        const submit_group = el('.form-group', submit_button)\r\n\r\n        this.village_selector = new VillageSelector(villages)\r\n        const selected_village = this.village_selector.getSelected()!\r\n\r\n        this.location_selector = new LocationSelector(this.map, selected_village.lng, selected_village.lat)\r\n\r\n        this.location_selector.onSelect = () => {\r\n            submit_button.removeAttribute('disabled')\r\n        }\r\n\r\n        this.village_selector.onSelected = (village: Village) => {\r\n            this.location_selector!.setLocation(village.lng, village.lat)\r\n        }\r\n\r\n        const form = el(\r\n            'form',\r\n            el('div.form-group', el('label', 'Village'), this.village_selector),\r\n            this.location_selector,\r\n            submit_group\r\n        )\r\n\r\n        setChildren(this.el, [\r\n            close_button,\r\n            el('h3', 'Place Village'),\r\n            el(\r\n                'p',\r\n                \"Use this tool to select the location of your village. If you've already placed your village, this will update it. \" +\r\n                    \"Note that we can't guarantee you'll have enough space at the location you've chosen.\"\r\n            ),\r\n            form,\r\n        ])\r\n    }\r\n\r\n    getData() {\r\n        if (!this.village_selector) return null\r\n\r\n        const village = this.village_selector.getSelected()\r\n\r\n        if (!village) return null\r\n\r\n        village.location = [this.location_selector!.lng, this.location_selector!.lat]\r\n\r\n        return village\r\n    }\r\n}\r\n\r\nclass LocationSelector implements RedomComponent {\r\n    map: maplibregl.Map\r\n    lat: number | null\r\n    lng: number | null\r\n    geojson: any\r\n    el: any\r\n    onSelect: any\r\n\r\n    constructor(map: maplibregl.Map, lng = null, lat = null) {\r\n        this.lng = lng\r\n        this.lat = lat\r\n        this.map = map\r\n\r\n        this.geojson = {\r\n            type: 'FeatureCollection',\r\n            features: [],\r\n        }\r\n\r\n        this.handleClick = this.handleClick.bind(this)\r\n        this.el = el('.form-group #location-selector')\r\n        this.onSelect = null\r\n        this.render()\r\n    }\r\n\r\n    setLocation(lng: number | null, lat: number | null) {\r\n        this.lng = lng\r\n        this.lat = lat\r\n        this.render()\r\n    }\r\n\r\n    onmount() {\r\n        this.map.addSource('location-selector', {\r\n            type: 'geojson',\r\n            data: this.geojson,\r\n        })\r\n        this.map.addLayer({\r\n            id: 'location-selector',\r\n            type: 'circle',\r\n            source: 'location-selector',\r\n            paint: {\r\n                'circle-radius': 10,\r\n                'circle-color': '#05e',\r\n            },\r\n        })\r\n    }\r\n\r\n    onunmount() {\r\n        this.map.removeLayer('location-selector')\r\n        this.map.removeSource('location-selector')\r\n    }\r\n\r\n    render() {\r\n        let button\r\n        if (this.lng != null) {\r\n            button = el('button', 'Change location')\r\n        } else {\r\n            button = el('button', 'Select location')\r\n        }\r\n        button.onclick = () => this.start()\r\n        setChildren(this, [button])\r\n    }\r\n\r\n    start() {\r\n        const cancel_link = el('a', 'cancel', { href: '#' })\r\n        cancel_link.onclick = (e) => {\r\n            e.preventDefault()\r\n            this.cancelClick()\r\n        }\r\n        setChildren(this, [\r\n            el('p#village-status', 'Click on the map to select a location (', cancel_link, ')'),\r\n        ])\r\n        this.map.getCanvas().style.cursor = 'pointer'\r\n        this.map.on('click', this.handleClick)\r\n    }\r\n\r\n    cancelClick() {\r\n        this.map.getCanvas().style.cursor = ''\r\n        this.map.off('click', this.handleClick)\r\n        this.render()\r\n    }\r\n\r\n    handleClick(ev: maplibregl.MapMouseEvent) {\r\n        this.lng = ev.lngLat.lng\r\n        this.lat = ev.lngLat.lat\r\n        this.cancelClick()\r\n\r\n        this.geojson.features = [\r\n            {\r\n                type: 'Feature',\r\n                geometry: {\r\n                    type: 'Point',\r\n                    coordinates: [ev.lngLat.lng, ev.lngLat.lat],\r\n                },\r\n            },\r\n        ]\r\n\r\n        const source = this.map.getSource('location-selector') as maplibregl.GeoJSONSource\r\n        source?.setData(this.geojson)\r\n\r\n        if (this.onSelect) {\r\n            this.onSelect()\r\n        }\r\n    }\r\n}\r\n\r\nexport { LocationSelector }\r\n","import maplibregl from 'maplibre-gl'\r\nimport { el, mount, setStyle, unmount } from 'redom'\r\nimport './villages.css'\r\nimport { PlaceVillageDialog } from './components'\r\n\r\nexport type Village = Record<string, any>\r\n\r\nclass VillagesLayer {\r\n    _source: string\r\n    _layer: string\r\n    _api_url: string\r\n    _permissions: string[] = []\r\n    _map?: maplibregl.Map\r\n    _wrapper: HTMLElement\r\n    _user_id?: string\r\n    villages?: Village[]\r\n    button: HTMLButtonElement\r\n    popup: any\r\n\r\n    constructor(source: string, click_layer: string) {\r\n        this._source = source\r\n        this._layer = click_layer\r\n        if (import.meta.env.DEV) {\r\n            this._api_url = 'http://localhost:2342'\r\n        } else {\r\n            this._api_url = 'https://www.emfcamp.org'\r\n        }\r\n        this.popup = null\r\n\r\n        this.button = el('button', { title: 'Place village' })\r\n        this._wrapper = el('div', this.button, {\r\n            class: 'maplibregl-ctrl maplibregl-ctrl-group villages-ctrl',\r\n            style: 'display:none',\r\n        })\r\n    }\r\n\r\n    is_admin() {\r\n        return this._permissions.includes('admin') || this._permissions.includes('villages')\r\n    }\r\n\r\n    description(feature: maplibregl.MapGeoJSONFeature) {\r\n        const props = feature.properties\r\n        let name = props.name\r\n        if (props.url) {\r\n            name = el('a', name, {\r\n                target: '_blank',\r\n                href: props.url,\r\n            })\r\n        }\r\n\r\n        const obj = el('.villages-object', el('h3', name))\r\n        if (props.description) {\r\n            mount(obj, el('p', props.description))\r\n        }\r\n        return obj\r\n    }\r\n\r\n    addClickHandlers(map: maplibregl.Map) {\r\n        map.on('click', this._layer, (e: maplibregl.MapLayerMouseEvent) => {\r\n            const feature = e.features![0]\r\n            this.popup = new maplibregl.Popup()\r\n                .setLngLat(e.lngLat)\r\n                .setDOMContent(this.description(feature))\r\n                .addTo(map)\r\n        })\r\n\r\n        let old_cursor = ''\r\n\r\n        map.on('mouseenter', this._layer, () => {\r\n            old_cursor = map.getCanvas().style.cursor\r\n            map.getCanvas().style.cursor = 'pointer'\r\n        })\r\n\r\n        map.on('mouseleave', this._layer, () => {\r\n            map.getCanvas().style.cursor = old_cursor\r\n        })\r\n    }\r\n\r\n    async getUserDetails() {\r\n        const response = await this.fetch('/api/user/current')\r\n        if (!response.ok) {\r\n            // User likely not logged in\r\n            return\r\n        }\r\n        const villages_response = await this.fetch('/api/villages/mine?all=true')\r\n        const json = await response.json()\r\n        this._permissions = json.permissions\r\n        this._user_id = json.id\r\n\r\n        this.villages = await villages_response.json()\r\n        if (this.villages && this.villages.length > 0) {\r\n            setStyle(this._wrapper, 'display', 'block')\r\n        }\r\n    }\r\n\r\n    onAdd(map: maplibregl.Map) {\r\n        this._map = map\r\n\r\n        this.addClickHandlers(map)\r\n\r\n        this.button.onclick = () => {\r\n            this.createForm()\r\n            this.button.disabled = true\r\n        }\r\n\r\n        this.getUserDetails()\r\n        return this._wrapper\r\n    }\r\n\r\n    onRemove() {\r\n        if (this.popup) {\r\n            this.popup.remove()\r\n        }\r\n    }\r\n\r\n    createForm() {\r\n        if (!this._map || !this.villages) return\r\n        const editor = new PlaceVillageDialog(this._map, this.villages)\r\n\r\n        const closeDialog = () => {\r\n            unmount(document.body, editor)\r\n            this.button.disabled = false\r\n        }\r\n\r\n        editor.onClose = closeDialog\r\n\r\n        editor.onSubmit = (data: Village) => {\r\n            if (!data) {\r\n                console.log('No data on form submit')\r\n                return\r\n            }\r\n            const endpoint = `/api/villages/${data.id}`\r\n\r\n            this.post_data(endpoint, data, 'POST').then((resp) => {\r\n                if (resp.status == 200) {\r\n                    closeDialog()\r\n                    this.refreshLayer()\r\n                } else {\r\n                    resp.json().then((json) => {\r\n                        console.log(json.message)\r\n                    })\r\n                }\r\n            })\r\n        }\r\n\r\n        mount(document.body, editor)\r\n    }\r\n\r\n    refreshLayer() {\r\n        // Reload the villages GeoJSON layer from the server by setting it to an empty object and back.\r\n        const source = this._map!.getSource(this._source) as maplibregl.GeoJSONSource\r\n        if (!source) return\r\n        const d = source._data as string\r\n        source.setData({ type: 'FeatureCollection', features: [] })\r\n        source.setData(d)\r\n    }\r\n\r\n    fetch(endpoint: string) {\r\n        return fetch(this._api_url + endpoint, {\r\n            credentials: 'include',\r\n        })\r\n    }\r\n\r\n    post_data(endpoint: string, data: any, method = 'POST') {\r\n        return fetch(this._api_url + endpoint, {\r\n            method: method,\r\n            credentials: 'include',\r\n            headers: {\r\n                'Content-Type': 'application/json; charset=utf-8',\r\n            },\r\n            body: JSON.stringify(data),\r\n        })\r\n    }\r\n}\r\n\r\nexport { VillagesLayer as default }\r\n","import { IControl } from 'maplibre-gl'\r\nimport { el } from 'redom'\r\n\r\ninterface UserChoiceResult {\r\n    outcome: string\r\n    platform: string\r\n}\r\n\r\nclass InstallControl implements IControl {\r\n    _deferredPrompt: any\r\n    _container: any\r\n    _map: maplibregl.Map | undefined\r\n\r\n    constructor() {\r\n        this._deferredPrompt = null\r\n        this._container = this.createControl()\r\n        window.addEventListener('beforeinstallprompt', (e) => {\r\n            // Prevent Chrome 67 and earlier from automatically showing the prompt\r\n            e.preventDefault()\r\n            if (localStorage.getItem('pwa_closed')) {\r\n                return\r\n            }\r\n            // Stash the event so it can be triggered later.\r\n            this._deferredPrompt = e\r\n            this._container.style.display = 'block'\r\n        })\r\n    }\r\n\r\n    createControl() {\r\n        const install_button = el('button.btn#install-button', 'Install')\r\n        install_button.onclick = (e) => {\r\n            e.preventDefault()\r\n            this._container.style.display = 'none'\r\n            this._deferredPrompt.prompt()\r\n            this._deferredPrompt.userChoice.then((result: UserChoiceResult) => {\r\n                if (result.outcome === 'accepted') {\r\n                    console.log('PWA choice accepted')\r\n                    // No need to do anything here, beforeinstallprompt won't be called if the app is installed\r\n                }\r\n                this._deferredPrompt = null\r\n            })\r\n        }\r\n\r\n        const install_close_button = el('button.btn#install-close', 'Close')\r\n        install_close_button.onclick = (e) => {\r\n            e.preventDefault()\r\n            this._container.style.display = 'none'\r\n            localStorage.setItem('pwa_closed', 'true')\r\n        }\r\n\r\n        return el(\r\n            'div#install-prompt.maplibregl-ctrl',\r\n            el('p', 'You can install this site as an app for easy access'),\r\n            install_button,\r\n            install_close_button,\r\n            { style: 'display:none' }\r\n        )\r\n    }\r\n\r\n    onAdd(map: maplibregl.Map) {\r\n        this._map = map\r\n        return this._container\r\n    }\r\n\r\n    onRemove() {\r\n        this._container.parentNode.removeChild(this._container)\r\n        this._map = undefined\r\n    }\r\n}\r\n\r\nexport default InstallControl\r\n","import maplibregl from 'maplibre-gl'\r\nimport './export.css'\r\nimport { el, mount, unmount } from 'redom'\r\n\r\nfunction calculateDim(currentZoom: number, currentWidth: number, targetZoom: number): number {\r\n    return Math.round(currentWidth * Math.pow(2, targetZoom - currentZoom))\r\n}\r\n\r\nclass ExportControl implements maplibregl.IControl {\r\n    _map?: maplibregl.Map\r\n    exportZoom: number = 18\r\n    pixelRatio: number = 4\r\n    initFunc?: (map: maplibregl.Map) => void\r\n\r\n    constructor(initFunc?: (map: maplibregl.Map) => void) {\r\n        this.initFunc = initFunc\r\n    }\r\n\r\n    doExport() {\r\n        const srcContainer = this._map!._container\r\n        let width = srcContainer.clientWidth,\r\n            height = srcContainer.clientHeight\r\n        const zoom = this._map!.getZoom()\r\n\r\n        // Rescale the pixel size of the container so that it covers the same\r\n        // area at the target zoom level.\r\n        // The eventual pixel size of the exported image is dictated by the pixelRatio passed into MapLibreGL\r\n        if (this.exportZoom > this._map!.getZoom()) {\r\n            width = calculateDim(zoom, width, this.exportZoom)\r\n            height = calculateDim(zoom, height, this.exportZoom)\r\n        }\r\n\r\n        const destContainer = el('div', { style: { width: width + 'px', height: height + 'px' } })\r\n        const wrapper = el('div', destContainer, { style: { visibility: 'hidden' } })\r\n        mount(document.body, wrapper)\r\n\r\n        const progressWrapper = el(\r\n            'div.progressWrapper',\r\n            el('div.progressWindow', 'Saving map as image, please wait...')\r\n        )\r\n        mount(document.body, progressWrapper)\r\n\r\n        const renderMap = new maplibregl.Map({\r\n            container: destContainer,\r\n            style: this._map!.getStyle(),\r\n            center: this._map!.getCenter(),\r\n            pixelRatio: this.pixelRatio,\r\n            // The maximum size may be limited by the graphics card.\r\n            maxCanvasSize: [4096, 4096],\r\n            zoom: this.exportZoom,\r\n            // NB: bearing and pitch not supported\r\n            interactive: false,\r\n            preserveDrawingBuffer: true,\r\n            fadeDuration: 0,\r\n            attributionControl: false,\r\n        })\r\n        if (this.initFunc) {\r\n            this.initFunc(renderMap)\r\n        }\r\n\r\n        renderMap.once('idle', () => {\r\n            const canvas = renderMap.getCanvas()\r\n            const a = el('a', { href: canvas.toDataURL(), download: 'map.png' })\r\n            a.click()\r\n            a.remove()\r\n            renderMap.remove()\r\n            unmount(document.body, wrapper)\r\n            unmount(document.body, progressWrapper)\r\n        })\r\n    }\r\n\r\n    onAdd(map: maplibregl.Map): HTMLElement {\r\n        this._map = map\r\n        const button = el('button.export', {\r\n            type: 'button',\r\n            title: 'Download image',\r\n        })\r\n        button.onclick = () => this.doExport()\r\n        return el('div', button, { class: 'maplibregl-ctrl maplibregl-ctrl-group' })\r\n    }\r\n\r\n    onRemove(): void {\r\n        this._map = undefined\r\n    }\r\n}\r\n\r\nexport default ExportControl\r\n","import './index.css'\r\nimport { registerSW } from 'virtual:pwa-register'\r\nimport maplibregl from 'maplibre-gl'\r\nimport map_style from './style/map_style.ts'\r\nimport Marker from './marker'\r\nimport LayerSwitcher from '@russss/maplibregl-layer-switcher'\r\nimport URLHash from '@russss/maplibregl-layer-switcher/urlhash'\r\nimport DistanceMeasure from './distancemeasure'\r\nimport ContextMenu from './contextmenu'\r\nimport VillagesEditor from './villages'\r\nimport { roundPosition } from './util'\r\nimport InstallControl from './installcontrol'\r\nimport ExportControl from './export/export'\r\nimport { manifest } from 'virtual:render-svg'\r\n\r\nif (import.meta.env.DEV) {\r\n    map_style.sources.villages.data = 'http://localhost:2342/api/villages.geojson'\r\n    map_style.sources.site_plan.url = 'http://localhost:8888/capabilities/buildmap'\r\n    map_style.glyphs = 'http://localhost:8080/fonts/{fontstack}/{range}.pbf'\r\n}\r\n\r\nasync function loadIcons(map: maplibregl.Map) {\r\n    const ratio = Math.min(Math.round(window.devicePixelRatio), 2)\r\n    const icons = manifest[ratio.toString()]\r\n\r\n    const images = ['camping', 'no-access', 'water', 'tree']\r\n\r\n    Promise.all(\r\n        images\r\n            .map((image) => async () => {\r\n                const img = await map.loadImage(icons[image])\r\n                map.addImage(image, img.data, { pixelRatio: ratio })\r\n            })\r\n            .map((f) => f())\r\n    )\r\n    /*\r\n    const sdfs = ['parking']\r\n\r\n    for (const sdf of sdfs) {\r\n        const img = await map.loadImage(`/sdf/${sdf}.png`)\r\n        map.addImage(sdf, img.data, { sdf: true })\r\n    }\r\n    */\r\n}\r\n\r\nclass EventMap {\r\n    layers: Record<string, string> = {\r\n        Background: 'background_',\r\n        Slope: 'slope',\r\n        Hillshade: 'hillshade',\r\n        'Aerial Imagery': 'ortho',\r\n        Structures: 'structures_',\r\n        Paths: 'paths_',\r\n        'Buried Services': 'services_',\r\n        Water: 'site_water_',\r\n        DKs: 'dk_',\r\n        'NOC-Physical': 'noc_',\r\n        Power: 'power_',\r\n        Lighting: 'lighting_',\r\n        Villages: 'villages_',\r\n    }\r\n    map?: maplibregl.Map\r\n    layer_switcher?: LayerSwitcher\r\n    url_hash?: URLHash\r\n    marker?: Marker\r\n\r\n    init() {\r\n        registerSW({ immediate: true })\r\n        const layers_enabled = ['Background', 'Structures', 'Paths', 'Villages']\r\n        this.layer_switcher = new LayerSwitcher(this.layers, layers_enabled)\r\n\r\n        this.url_hash = new URLHash(this.layer_switcher)\r\n        this.layer_switcher.urlhash = this.url_hash\r\n        this.marker = new Marker(this.url_hash)\r\n\r\n        this.layer_switcher.setInitialVisibility(map_style)\r\n        this.map = new maplibregl.Map(\r\n            this.url_hash.init({\r\n                container: 'map',\r\n                style: map_style,\r\n                pitchWithRotate: false,\r\n                dragRotate: false,\r\n                preserveDrawingBuffer: true,\r\n            })\r\n        )\r\n        loadIcons(this.map)\r\n\r\n        this.map.touchZoomRotate.disableRotation()\r\n\r\n        const url = new URL(window.location.href)\r\n        const embed = url.searchParams.get('embed') == 'true'\r\n\r\n        if (!embed) {\r\n            this.map.addControl(new maplibregl.NavigationControl(), 'top-right')\r\n\r\n            this.map.addControl(\r\n                new maplibregl.GeolocateControl({\r\n                    positionOptions: {\r\n                        enableHighAccuracy: true,\r\n                    },\r\n                    trackUserLocation: true,\r\n                })\r\n            )\r\n\r\n            this.map.addControl(\r\n                new maplibregl.ScaleControl({\r\n                    maxWidth: 200,\r\n                    unit: 'metric',\r\n                })\r\n            )\r\n\r\n            this.map.addControl(new DistanceMeasure(), 'top-right')\r\n            this.map.addControl(new InstallControl(), 'top-left')\r\n\r\n            this.map.addControl(new VillagesEditor('villages', 'villages_symbol'), 'top-right')\r\n\r\n            // Display edit control only on browsers which are likely to be desktop browsers\r\n            if (window.matchMedia('(min-width: 600px)').matches) {\r\n                this.map.addControl(new ExportControl(loadIcons), 'top-right')\r\n            }\r\n        } else {\r\n            document.querySelector('header')!.style.display = 'none'\r\n        }\r\n\r\n        this.map.addControl(this.layer_switcher, 'top-right')\r\n        this.url_hash.enable(this.map)\r\n\r\n        this.map.addControl(this.marker, 'top-right')\r\n\r\n        const contextMenu = new ContextMenu(this.map)\r\n        contextMenu.addItem('Set marker', (_e, coords) => {\r\n            this.marker!.setLocation(coords)\r\n        })\r\n        contextMenu.addItem(\r\n            'Clear marker',\r\n            () => {\r\n                this.marker!.setLocation(null)\r\n            },\r\n            () => this.marker!.location != null\r\n        )\r\n\r\n        contextMenu.addItem('Copy coordinates', (_e, coords) => {\r\n            const [lng, lat] = roundPosition([coords.lng, coords.lat], this.map!.getZoom())\r\n            navigator.clipboard.writeText(lat + ', ' + lng)\r\n        })\r\n    }\r\n}\r\n\r\nconst em = new EventMap()\r\n\r\nif (document.readyState != 'loading') {\r\n    em.init()\r\n} else {\r\n    document.addEventListener('DOMContentLoaded', em.init)\r\n}\r\n\r\nfunction savecanvas(){\r\n    let data = em.map.getCanvas().toDataURL();\r\n    localStorage.setItem('map', data)\r\n   //document.getElementsByClassName('maplibregl-canvas')[0].toDataURL();\r\n}\r\n\r\nsetInterval(savecanvas, 1000)"],"file":"assets/index-BUtuYmCI.js"}